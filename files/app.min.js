!function(e,t){"use strict";"undefined"==typeof PlexConditionizr&&(t.PlexConditionizr=function(){var e={};return e.init=function(){conditionizr.add("retina",function(){return t.devicePixelRatio>=1.5}),conditionizr.add("chrome",function(){return!!t.chrome&&/google/i.test(navigator.vendor)}),conditionizr.add("safari",function(){return/Constructor/.test(t.HTMLElement)||function(e){return"[object SafariRemoteNotification]"===(!e||e.pushNotification).toString()}(t.safari)}),conditionizr.add("firefox",function(){return"InstallTrigger"in t}),conditionizr.add("touch",function(){return"ontouchstart"in t||!!navigator.msMaxTouchPoints}),conditionizr.config({assets:plex_l10n.path_to_css,tests:{safari:["class"],chrome:["class"],firefox:["class"],retina:["class"],touch:["class"]}})},e}()),e(document).ready(function(){conditionizr.on("retina",function(){e(".conditionizr-style").each(function(t,n){var i=e(this).data("alt-retina-style");i&&e(this).attr("style",i)})}),e(".conditionizr-style").removeAttr("data-alt-retina-style")})}(jQuery,window),function(e,t){"use strict";var n={img:"",src:"",element:"",init:function(e){n.element=e,n.img=e.querySelector("img"),n.src="",n.img.addEventListener("load",n.update()),n.img.complete&&n.update()},update:function(){var e=n.img.src;n.src!==e&&(n.src=e,n.element.style.backgroundImage='url("'+n.src+'")')}};e(".plex-responsive-bg-image").each(function(e,t){n.init(t)})}(jQuery,window),function(e,t){"use strict";"undefined"==typeof PlexLanguage&&(t.PlexLanguage=function(){var n={},i="en_US";return n.init=function(){Transifex.live.onFetchLanguages(function(t){var n=e(".lang-selector #tip-languages");n.empty();for(var r=0;r<t.length;++r)if(!(!0!==plex_l10n.transifex.valid_languages&&plex_l10n.transifex.valid_languages.indexOf(t[r].code)<0)){var o=e("<a />"),a=plex_l10n.transifex.localized_urls[t[r].code];o.text(t[r].name).attr("href",a);var s=e("<li />");s.attr("data-code",t[r].code).attr("data-name",t[r].name).css("cursor","pointer").html(o),n.append(s)}e(".sel-language").html(Transifex.live.getLanguageName("en_US")),Transifex.live.onTranslatePage(function(t){e(".sel-language").html(Transifex.live.getLanguageName(t)),i=t})})},n.maybeRedirect=function(){var e=n.getSavedLang();if(e&&void 0===PlexUtils.getParam("langr")&&"en_US"!==e&&e!==Transifex.live.getSelectedLanguageCode()){var i=plex_l10n.transifex.localized_urls[e];if(void 0===i)return void(Transifex.live.hasLanguageCode(e)||Cookies.remove("plex_tv_lang",{domain:Plex.getCookieDomain()}));var r="?";t.location.search&&(r=t.location.search,r+="&"),r+="langr=1",r+=t.location.hash,i+=r,t.location.replace(i)}},n.getUserLang=function(){var e=navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage,t=n.getSavedLang();return t||"undefined"!=typeof Transifex&&(t=Transifex.live.normalizeLangCode(e)),t||"undefined"==typeof Transifex||(t=Transifex.live.getLanguageName("en_US")),t},n.getSavedLang=function(){var e=Cookies.get("plex_tv_lang");return!(null==e||!e)&&e},n.setUserLang=function(e,t){if(null!=e){var n=PlexUtils.getCookieDomain();Cookies.set("plex_tv_lang",e,{domain:n,expires:365})}},n.languageSwitcher=function(){if(e(".header").is(":visible")){var t=n.getSavedLang(!0),i=e("#plex-language-bar");if(void 0===t||!t){var r=n.getUserLang(!0);"en_US"!==r&&Transifex.live.hasTargetLanguage(r)&&(i.find(".site-language-switch").attr("href","").on("click",function(){return n.setUserLang(r),Transifex.live.translateTo(r,!0),i.hide(),!1}),i.find(".dismiss-language-switch").on("click",function(){return n.setUserLang("en_US"),i.hide(),!1}),i.find(".site-language-switch-language").text(Transifex.live.getLanguageName(r)),i.show())}}},n}()),"undefined"!=typeof Transifex&&Transifex.live.onReady(function(){PlexLanguage.init(),plex_l10n.transifex.js_redirect&&PlexLanguage.maybeRedirect(),PlexLanguage.languageSwitcher(),jQuery.tooltipster&&jQuery(".lang-selector .tooltip").tooltipster({trigger:"click",interactive:!0}),jQuery(document).on("click","#tip-languages a",function(){var e=jQuery(this).parent().data("code");void 0!==e&&e&&PlexLanguage.setUserLang(e)})})}(jQuery,window),function(e,t){"use strict";"undefined"==typeof PlexUtils?t.PlexUtils=function(){var n={},i={stagingeu:"https://stagingeu.plex.tv",staging:"https://staging.plex.tv",staging2:"https://staging2.plex.tv",stagingtv:"https://stagingtv.plex.tv",plex4:"https://staging.plex.tv",development:"https://staging.plex.tv"},r={stagingeu:"https://stagingeu-webloader.plex.tv",staging:"https://staging-webloader.plex.tv",staging2:"https://staging2-webloader.plex.tv",stagingtv:"https://stagingtv-webloader.plex.tv",plex4:"https://staging-webloader.plex.tv",development:"https://staging-webloader.plex.tv"};return n.isDevelopment=function(){var t=e(location).attr("hostname");return new RegExp(/((\/\/(.*?)|)(staging|plex4).*?plex\.tv)/).test(t)||n.isLocalDevelopment()},n.isLocalDevelopment=function(){var t=e(location).attr("hostname");return new RegExp(/((\/\/(\S+\.)*|)plex\.(dev|test))/).test(t)},n.getAPIUrl=function(){var e="https://plex.tv";return n.isDevelopment()&&(e=n.getCurrentStagingAPIUrl()),e},n.getWebUrlBase=function(){var e="https://app.plex.tv";return n.isDevelopment()&&(e=n.getCurrentWebStagingAPIUrl()),e},n.getWebUrl=function(){var e="/desktop";return n.isLocalDevelopment()?e+="-ninja":(PlexUser.hasRole("ninja")||PlexUser.hasRole("employee"))&&(e+="-ninja"),n.getWebUrlBase()+e},n.getMusicUrl=function(){var e="/desktop";return n.isLocalDevelopment()?e+="-ninja":(PlexUser.hasRole("ninja")||PlexUser.hasRole("employee"))&&(e+="-ninja"),e+="#!/provider/tv.plex.provider.music",n.getWebUrlBase()+e},n.getAdminUrl=function(){return n.getAPIUrl()+"/admin"},n.getCurrentStagingAPIUrl=function(){var e=Cookies.get("plex_tv_staging_url");return void 0!==e&&null!==e||(e=n.getDefaultStagingUrl()),e},n.getCurrentWebStagingAPIUrl=function(){var t=e(location).attr("hostname").split("-")[0],i=Cookies.get("plex_tv_staging_web_url");return void 0!==i&&null!==i||(i=n.isLocalDevelopment()?r.development:r[t]),i},n.setCurrentStagingAPIUrl=function(e){Cookies.set("plex_tv_staging_url",e)},n.setCurrentStagingWebAPIUrl=function(e){Cookies.set("plex_tv_staging_web_url",e)},n.getStagingUrls=function(){var t={development:"http://api.plex.test"};if(!n.isLocalDevelopment()){var r=e(location).attr("hostname").split("-")[0];t[r]=i[r]}return t},n.getDefaultStagingUrl=function(){var t=e(location).attr("hostname").split("-")[0],r=i[t];return n.isLocalDevelopment()&&(r=i.development),r},n.isSecure=function(){return-1!==location.protocol.indexOf("https")},n.isMobile=function(){var e=!1;return"iOS"!==platform.os.family&&"Android"!==platform.os.family&&"Windows Phone"!==platform.os.family||(e=!0),e},n.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},n.isReturningWebApp=function(){return document.referrer.indexOf(n.getWebUrlBase())>=0},n.GetURLParameter=function(e,n){var i=t.location.search.substring(1);if(n=void 0===n||n,!i&&n){var r=t.location.href.split("?");r.length>1&&(i=r[1])}for(var o=i.split("&"),a=0;a<o.length;a++){var s=o[a].split("=");if(s[0].toLowerCase()===e.toLowerCase())return decodeURIComponent(s[1])}},n.getParam=function(e){return n.GetURLParameter(e)},n.getURLHash=function(){return void 0!==t.location.hash?t.location.hash:""},n.getPageForURL=function(e){e=void 0!==e?e:t.location.pathname;var n=e.replace(/\/$/,"");return n.substring(n.lastIndexOf("/")+1)},n.removeParam=function(e,n){n||(n=t.location.href);var i=n.split("#"),r=new RegExp("([?&])"+e+"=.*?(&|#|$)","i");return i[0].match(r)&&(n=i[0].replace(r,"$1"),n=n.replace(/([?&])$/,""),void 0!==i[1]&&null!==i[1]&&(n+="#"+i[1])),n},n.appendParamToURLString=function(e,n){var i="",r="",o="";return void 0!==n&&void 0!==n.href&&n.href?(i=n.href,r=n.search,o=n.hash):(i=t.location.href,r=t.location.search,o=t.location.hash),i=i.replace(/#$/,""),r&&r.indexOf(e)>=0?i:(r?i=i.replace(r,r+"&"+e):(e="?"+e,o?i=i.replace(o,e+o):i+=e),i)},n.appendParamToURL=function(e){var i=n.appendParamToURLString(e);t.history.replaceState({},"",i)},n.setCache=function(e,t,n){var i=moment().add(n,"m").unix(),r={expiration:i,value:t};try{sessionStorage.setItem(e,JSON.stringify(r))}catch(e){return console.warn("Your browser doesn't support session storage."),!1}return!0},n.clearSessionCache=function(e){try{void 0!==e?sessionStorage.removeItem(e):sessionStorage.clear()}catch(e){console.warn("Your browser doesn't support session storage.")}},n.getCache=function(e,t){void 0===t&&(t=!1);var n=null;try{n=sessionStorage.getItem(e),null!==n&&(n=JSON.parse(n),n.expiration<moment().unix()?(sessionStorage.removeItem(e),n=null):t||(n=n.value))}catch(e){console.warn("Your browser doesn't support session storage."),n=null}return n},n.getCookieDomain=function(){var t=".plex.tv",i=e(location).attr("hostname"),r=new RegExp(/((\/\/(\S+\.)*|)plex\.dev)/);return n.isLocalDevelopment()&&(t=".plex.test",r.test(i)&&(t=".plex.dev")),t},n.getForward=function(e){void 0===e&&(e=!1);var t=e?"ext_forward":"forward",i=n.getParam(t);if(void 0!==i)return i;var r=sessionStorage.getItem(t);return void 0!==r&&null!==r&&(i=r),i},n.saveForward=function(){var e=n.getParam("forward"),t=n.getParam("external_forward")||n.getParam("externalForward");try{void 0!==e&&sessionStorage.setItem("forward",e),void 0!==t&&sessionStorage.setItem("ext_forward",t)}catch(e){return console.warn("Your browser doesn't support session storage."),!1}},n.setForward=function(e){sessionStorage.setItem("forward",e)},n.clearForward=function(){try{sessionStorage.removeItem("forward"),sessionStorage.removeItem("ext_forward")}catch(e){return console.warn("Your browser doesn't support session storage."),!1}},n.redirect=function(e){var i=n.getForward(),r=n.getForward(!0),o=new RegExp("^(?:[a-z]+:)?//","i"),a="";if(a=n.isLocalDevelopment()?new RegExp(/(\/\/(\S+\.)*plex\.(dev|test)(:\d+)?(\z|\/))/):new RegExp(/(\/\/(\S+\.)*plex\.tv(:\d+)?(\z|\/))/),void 0!==i)e=i,"web"===e.toLowerCase()&&(e=n.getWebUrl()),o.test(i)&&!a.test(i)&&(e="/");else if(void 0!==r){e=r;try{t.history.location.replaceState({},"Plex Media Server",t.location.origin+t.location.pathname)}catch(e){console.log("couldn't change the referer before the redirect")}o.test(r)?a.test(r)||(e="/"):e=n.getAPIUrl()+r}void 0===e&&(e="/"),n.clearForward(),t.location.href=e},n.showErrorsOnForm=function(t,n){e.each(this.validElements(),function(t,n){var i=e(n).parent(),r=i.find(".icomoon"),o="icon-form-success";i.find(".field-error").html("").hide(),i.hasClass("no-checkmark")&&(o=r.data("original-icon")),r.removeClass(function(e,t){return(t.match(/(^|\s)icon-\S+/g)||[]).join(" ")}).addClass(o),i.removeClass("input-field-error").addClass("input-field-success")}),e.each(n,function(t,n){var i=e(n.element).parent();i.find(".icomoon").removeClass(function(e,t){return(t.match(/(^|\s)icon-\S+/g)||[]).join(" ")}).addClass("icon-form-error"),i.find(".field-error").html(n.message).show(),i.removeClass("input-field-success").addClass("input-field-error")})},n}():console.log("PlexUtils is already defined."),e(document).ready(function(){})}(jQuery,window),function(e,t){"use strict";"undefined"==typeof PlexFlags?t.PlexFlags=function(){var t={},n=null,i={music:"e7cea823-02e5-48c4-a501-d37b82bf132f"},r=plex_l10n.feature_flags_active,o=plex_l10n.feature_flags_actions;return t.getFeaturesTree=function(){var e=PlexUtils.getCache("plex_features_tree");return Plex.debugLog()&&null!==e&&PlexUtils.getParam("feature_flag")&&(PlexUtils.getParam("feature_flag"),e[i[PlexUtils.getParam("feature_flag")]]=!0),e},t.refreshFeaturesTree=function(i){var r=e.Deferred();if(!t.activeFeatureFlags())return r.resolve();if(i=void 0!==i&&i,i&&PlexUtils.clearSessionCache("plex_features_tree"),void 0!==(n=t.getFeaturesTree())&&null!==n)return r.resolve(n);var o={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier()};return Plex.isSignedIn()&&(o["X-Plex-Token"]=Plex.getAuthToken()),e.ajax({dataType:"json",type:"GET",headers:o,url:PlexUtils.getAPIUrl()+"/api/v2/features.json",crossDomain:!0}).always(function(t,i){n={},"error"!==i?(e.each(t,function(e,t){n[t.uuid]=!0}),PlexUtils.setCache("plex_features_tree",n,10),r.resolve(n)):r.resolve(),Plex.debugLog()&&console.log("Updated features tree")}),r.promise()},t.activeFeatureFlags=function(){return!(void 0===r||void 0===o||!r.length)},t.skipFeatureFlags=function(e){return e=void 0!==e?e:"",!(t.activeFeatureFlags()&&!(e&&r.indexOf(e)<0))},t.getFeatureState=function(e){if(t.skipFeatureFlags(e))return!0;var n=!1,i=t.getFeaturesTree();return null!==i&&i.hasOwnProperty(e)&&(n=i[e]),Plex.debugLog()&&console.log("Feature flag "+e+" state is "+n),n},t.getFeatureStateByType=function(e){return!!t.skipFeatureFlags(e)||void 0!==i[e]&&t.getFeatureState(i[e])},t.hasAccessToFeature=function(e){return t.getFeatureStateByType(e)},t.refreshUI=function(){t.skipFeatureFlags()||void 0!==o.selectors&&t.doUISelectors(o.selectors)},t.doUISelectors=function(n){e.each(n,function(n,i){var r="",a=e(i).data("groupDisplay");Plex.debugLog()&&console.log("Checking features flags UI selectors for "+n+" :: "+i),void 0!==a&&(r=e("."+a));var s=t.getFeatureStateByType(n);void 0!==o.alt_classes&&void 0!==o.alt_classes[a]&&t.doUIAltClasses(s,r,o.alt_classes[a]),s?e(i).not(":visible").fadeIn():e(i).hide()})},t.doUIAltClasses=function(e,t,n){var i=n.default,r=n.alt;Plex.debugLog()&&console.log("Checking UI alt classes for the feature"),t.removeClass(i+" "+r),e?t.addClass(i):t.addClass(r)},t.doUIAltClasses__=function(n){e.each(n,function(n,i){e.each(i,function(i,r){var o=r.default,a=r.alt,s=r.child_selectors;e(i).removeClass(o+" "+a),e(i).find(s).hasClass(s),t.getFeatureStateByType(n)?e(i).addClass(o):e(i).addClass(a)})})},t}():console.log("PlexFlags is already defined."),e(document).ready(function(){PlexView.addAfterRenderHook(function(){PlexFlags.refreshFeaturesTree().then(PlexFlags.refreshUI)})})}(jQuery,window),function(e,t){"use strict";"undefined"==typeof PlexMetrics?t.PlexMetrics=function(){var n={},i=[],r=!1,o=function(){for(var e=t.location.search.substring(1),n=e.split("&"),i={},r=0;r<n.length;r++){var o=n[r].split("=");-1!==o[0].toLowerCase().indexOf("utm_")&&(i[o[0].replace("utm_","")]=decodeURIComponent(o[1]))}return i};return n.pushEvent=function(t,n,i){void 0===i&&(i={}),void 0!==n&&n||(n=function(){}),Object.getOwnPropertyNames(dataLayer).reduce(function(e,t){return e||"push"==t},!1)?(e.extend(i,{event:t,eventCallback:n}),dataLayer.push(i),Plex.debugLog()&&(console.log("Pushed event ..."),console.log(i))):n()},n.loadUTMParams=function(){var e=o(),t=PlexUtils.getCookieDomain();Object.keys(e).length>0&&(Cookies.set("plex_utm",e,{domain:t}),n.track("attribution","marketing"))},n.moveUTMParamsToGlobal=function(){var e=Cookies.getJSON("plex_utm"),t=PlexUtils.getCookieDomain();Cookies.remove("plex_utm"),"undefined"===e&&Cookies.remove("plex_utm",{domain:t}),void 0!==e&&"undefined"!==e&&""!==e&&null!==t&&Cookies.set("plex_utm",e,{domain:t})},n.getUTMParams=function(){var e=Cookies.getJSON("plex_utm");return void 0!==e&&"undefined"!==e&&""!==e&&null!==e?e:{}},n.track=function(e,t,o,a){r?n.execTrackMetric(e,t,o,a):i.push({category:e,action:t,options:o})},n.execTrackMetric=function(t,i,r,o){void 0===r&&(r={}),void 0===o&&(o=function(){});var a={userId:Plex.isSignedIn()?Plex.getAuthInfo().id:null,deviceIdentifier:Plex.getClientIdentifier(),event:"client:"+t,interaction:!0,properties:{page:i,context:e(location).attr("origin")+e(location).attr("pathname")},context:{campaign:n.getUTMParams(),device:{product:e(location).attr("hostname"),platform:platform.name,platformVersion:platform.version,device:platform.os.family}}},s=e.extend(!0,a,r);e.ajax({type:"POST",url:PlexUtils.isDevelopment()?"https://analytics-stage.plex.tv/collect/event":"https://analytics.plex.tv/collect/event",contentType:"application/json",data:JSON.stringify(s),error:function(e){Plex.debugLog()&&console.log("Couldn't track the plex metric "+t+":"+i)}}).always(function(){Plex.debugLog()&&(console.log("Pushed metric ..."),console.log(s)),o()})},n.execAllMetricEvents=function(){r=!0,e.each(i,function(e,t){n.execTrackMetric(t.category,t.action,t.options)})},n}():console.log("PlexMetrics is already defined."),e(document).ready(function(){})}(jQuery,window),function(e,t){"use strict";"undefined"==typeof Plex?t.Plex=function(){var t={},n={},i=!1,r=!1,o=["pass","tidal"],a={regular:"currency",tidal:"country"};return t.Tidal={plansFree:{hifi_bundle:"Tidal Hifi",premium_bundle:"Tidal Premium",hifi_bundle_trial:"Tidal Hifi Trial",premium_bundle_trial:"Tidal Premium Trial"},plansPP:{hifi:"Tidal Hifi Add-On",premium:"Tidal Premium Add-On",hifi_trial:"Tidal Hifi Trial Add-On",premium_trial:"Tidal Premium Trial Add-On",premium_addon_trial:"Tidal Premium Add-On Trial",hifi_addon_trial:"Tidal HiFi Add-On Trial"},getFreePlans:function(){return Object.keys(this.plansFree)},getPPPlans:function(){return Object.keys(this.plansPP)},getAllPlans:function(){return this.getFreePlans().concat(this.getPPPlans())},validPlans:function(e){return!(this.getAllPlans().indexOf(e)<0)&&(t.hasActivePlexPass()?this.getPPPlans():this.getFreePlans())}},t.debugLog=function(){return PlexUtils.isDevelopment()||PlexUtils.isLocalDevelopment()||plex_l10n.js_debug_log},t.signInGuard=function(){return!!t.isSignedIn()||(t.signInRedirect(),!1)},t.getSignInPage=function(e){return"/sign-in"+(e=void 0!==e?e:"")},t.setIsSigninIn=function(e){e=void 0===e||e,i=e},t.isSigninIn=function(){return i},t.isSignedIn=function(){try{var e=localStorage.getItem("plex_tv_auth")}catch(e){return console.warn("Your browser doesn't support local storage."),void 0!==Cookies.get("plex_tv_auth")}return!!e},t.signInRedirect=function(e){e=void 0!==e&&e?e:location.href,PlexUtils.redirect(t.getSignInPage("/?forwardUrl="+encodeURIComponent(e)))},t.getClientIdentifier=function(){var e=!1;return void 0===Cookies.get("plex_tv_client_identifier")?(e=PlexUtils.guid(),t.setClientIdentifier(e)):e=Cookies.get("plex_tv_client_identifier"),e},t.setClientIdentifier=function(e){Cookies.set("plex_tv_client_identifier",e,{expires:3650})},t.getAuthInfo=function(){try{var e=localStorage.getItem("plex_tv_auth")}catch(e){return console.warn("Your browser doesn't support local storage."),null}return e?JSON.parse(e):(void 0!==(e=Cookies.getJSON("plex_tv_auth"))&&(t.setAuthInfo(e),Cookies.remove("plex_tv_auth")),e)},t.isRefreshingInfo=function(e){var t=void 0!==e,n=!0;return t&&(n=PlexUtils.isReturningWebApp()),"1"===PlexUtils.getParam("refreshInfo")&&n},t.getAuthToken=function(){var e=t.getAuthInfo();if(void 0!==e)return e.authToken},t.checkTokenExpiration=function(){var e=t.getAuthInfo();e&&void 0!==e.expires_at&&moment.unix(e.expires_at)<moment().unix()&&t.removeAuthInfo()},t.setAuthInfo=function(e,n){t.clearCachedPricing(),t.isSignedIn()||PlexView.setRunHooks(!0),e.lstorage_at=moment().unix(),!0===n&&(e.expires_at=moment.unix(e.lstorage_at).add(14,"days").unix());try{localStorage.setItem("plex_tv_auth",JSON.stringify(e)),t.SSOSyncCookie()}catch(e){console.warn("Your browser doesn't support local storage.")}PlexUser.cacheSubscriptions(e.subscriptions),PlexFlags.refreshFeaturesTree(!0).always(function(){(PlexView.refreshView()||PlexView.runViewHooks())&&PlexView.refresh()})},t.removeAuthInfo=function(e){e=void 0!==e&&e,t.isSignedIn()&&PlexView.setRunHooks(!0);try{localStorage.removeItem("plex_tv_auth"),t.SSOSyncCookie()}catch(e){console.warn("Your browser doesn't support local storage.")}PlexUtils.clearSessionCache(),PlexUser.clearSubscriptions(),PlexFlags.refreshFeaturesTree(!0).then(function(){!PlexView.refreshView()&&!PlexView.runViewHooks()||e||PlexView.refresh()})},t.hasActivePlexPass=function(){return t.debugLog()&&PlexUtils.getParam("plexpass")?Boolean(parseInt(PlexUtils.getParam("plexpass"))):!!t.getAuthInfo()&&t.getAuthInfo().subscription.active},t.hasActiveMusicPass=function(e){return t.debugLog()&&PlexUtils.getParam("musicpass")?Boolean(parseInt(PlexUtils.getParam("musicpass"))):(e=void 0!==e?e:"tidal",t.hasActiveTidalSubsc()&&!t.hasActivePlexPass())},t.hasActiveTidalSubsc=function(n){if(t.debugLog()&&PlexUtils.getParam("tidal"))return Boolean(parseInt(PlexUtils.getParam("tidal")));n=void 0!==n?n:"tidal";var i=!1;return e.each(t.Tidal.getAllPlans(),function(e,r){if(i=t.findActiveSubscriptionType(n,r))return!1}),Boolean(i)},t.hasExpiredTrial=function(e){var n=t.getAuthInfo();if(void 0!==n){var i=n.trials;return void 0===i&&(i=[]),t.debugLog()&&PlexUtils.getParam("simulTrialEnd")&&i.push(PlexUtils.getParam("simulTrialEnd")),i.indexOf(e)>=0}return!1},t.loadPlans=function(i,r){var o=e.Deferred(),a={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":t.getClientIdentifier()},s={};r=void 0!==r&&r,"regular"!==i&&(s.feature=i),t.isSignedIn()&&(a["X-Plex-Token"]=t.getAuthToken());var l=PlexUtils.getAPIUrl()+"/api/v2/subscriptions/plans.json?all=true";return r&&"country"!==t.getPlansFeatureIndex(i)&&(l=PlexUtils.getAPIUrl()+"/api/subscriptions/plans.json"),e.ajax({dataType:"json",type:"GET",headers:a,url:l,crossDomain:!0,data:s}).done(function(a){if(n[i]=a,r){if("country"===t.getPlansFeatureIndex(i)){var s=t.debugLog()&&PlexUtils.getParam("country_code")?PlexUtils.getParam("country_code"):n[i].defaultCountry,l=n[i].prices[s];if(void 0!==n[i].prices[s]){var l=n[i].prices[s],c=n[i].formattedPrices[s],u=[];e.each(Object.keys(l),function(e,t){"meta"!==t&&u.push({id:t,name:"Monthly",price:l[t],currency:l.meta.currency,formattedPrice:c[t]})}),n[i]=u}else n[i]="not_available"}PlexUtils.setCache("pricesData"+i,n[i],30)}o.resolve(a)}).then(null,function(e){o.reject(e)}),o.promise()},t.loadPrices=function(i){var r=e.Deferred();return void 0!==n[i]&&null!==n[i]||(n[i]=PlexUtils.getCache("pricesData"+i)),null!==n[i]||"not_available"===n[i]?r.resolve():t.loadPlans(i,!0)},t.maybeLoadPrices=function(){var n=function(t){e.event.trigger("pricesInit",[t])};if(e(".pp-price-feature[data-pp-price-feature]").length){e(".plans-na-error").hide();var i=[];e(".pp-price-feature[data-pp-price-feature]").each(function(){var t=e(this).data("pp-price-feature");-1===i.indexOf(t)&&i.push(t)});var r=0;e.each(i,function(o,a){t.loadPrices(a).then(function(){++r>=i.length&&n(a)}).fail(function(){e(".plans-na-error").show()})})}else n()},t.fillPrices=function(){e.each(n,function(t,i){if("not_available"===i)return!0;e.each(n[t],function(n,i){var r=(void 0!==t&&"pass"!==t?t+"-":"")+i.id,o=i.formattedPrice;e(".plex-price-"+r).html(o),e(".plex-price-"+r+".name").html(i.name),e(".plex-price-"+r+".price.discounted-price").html(o.replace(i.currency,"").trim()),e(".plex-price-"+r+".currencycode").html(i.currency)})})},t.clearCachedPricing=function(i){var r=function(e){t.debugLog()&&console.log("Resetting prices for: "+e),PlexUtils.clearSessionCache("pricesData"+e),n[e]=null};if(void 0!==i)return void r(i);e.each(o,function(e,t){r(t)})},t.getPlansFeatureIndex=function(e){return void 0===a[e]?a.regular:a[e]},t.getUSDPlansIndex=function(e){return"country"===e?"US":"USD"},t.canPurchasePlans=function(e){var t=PlexUtils.getCache("pricesData"+e);return null===t?void 0===n[e]||"not_available"!==n[e]:"not_available"!==t},t.getOtherActiveSubscPlan=function(){if(t.debugLog()&&PlexUtils.getParam("tidalsubsc"))return Boolean(parseInt(PlexUtils.getParam("tidalsubsc")));var n=PlexUser.getSubscriptionsInfo();if(void 0===n||!n.length)return!1;var i=!1;return e.each(plex_l10n.plans.tidal,function(e,n){if(t.findActiveSubscriptionType("tidal",n.id))return i=n,!1}),i},t.checkPendingSubscription=function(n){var i=e.Deferred(),r=t.findPendingSubscriptionType(n);return null!==r?t.getSubscriptionStatus(r.id):i.resolve()},t.findSubscriptionType=function(t,n,i){var r=PlexUser.getSubscriptionsInfo(),o=null;return i=void 0!==i?i:"active",n=void 0!==n?n:"any",e.each(r,function(e,r){return void 0!==r.type&&(r.type===t&&r.state===i?("any"!==n&&n!==r.mode||(o=r),!1):void 0)}),o},t.findActiveSubscriptionType=function(e,n){return t.findSubscriptionType(e,n,"active")},t.findPendingSubscriptionType=function(e,n){return t.findSubscriptionType(e,n,"pending")},t.subscriptionGuard=function(){return t.isSignedIn()?!t.getAuthInfo().subscription.active:(t.signInRedirect(),!1)},t.getSubscriptionStatus=function(n){var i=e.Deferred();return e.ajax({dataType:"json",type:"GET",headers:{"X-Plex-Client-Identifier":t.getClientIdentifier(),"X-Plex-Token":t.getAuthToken()},url:PlexUtils.getAPIUrl()+"/api/v2/subscriptions/"+n,crossDomain:!0,xhrFields:{withCredentials:!0}}).always(function(e,t){var n=!1;"error"!==t&&void 0!==e.state&&(n=e),i.resolve(n)}),i.promise()},t.getSubscriptionAuthInfo=function(){var e=t.getAuthInfo();return{active:e.subscription.active,plan:e.subscription.plan,billing_cycle:e.subscription.plan,next_charge_time:""}},t.SSOSyncCookie=function(n){var i=PlexUtils.getCookieDomain(),o=e(location).attr("hostname");if(!r){var a={host:o,signedIn:t.isSignedIn(),token:t.getAuthToken()};a=JSON.stringify(a);try{a=btoa(a)}catch(e){}Cookies.set("_plex_tv_auth_sync",a,{domain:i})}},t.SSOSync=function(){var n=PlexUtils.getCookieDomain(),i=e(location).attr("hostname"),o=Cookies.get("_plex_tv_auth_sync");if(void 0!==o&&o){try{o=JSON.parse(atob(o))}catch(e){o=JSON.parse(o)}if(void 0!==o.host&&void 0!==o.signedIn){var a=void 0!==o.token&&t.getAuthToken()!==o.token;i===o.host||t.isSignedIn()===o.signedIn&&!a||(Cookies.remove("_plex_tv_auth_sync",{domain:n}),Cookies.remove("plex_tv_auth_rem",{domain:n}),t.isSignedIn()!==o.signedIn&&t.removeAuthInfo(),PlexSignIn.loadSSO(),r=!0)}}},t}():console.log("Plex is already defined."),e(document).ready(function(){var t=0;PlexMetrics.pushEvent("SitePlexInit"),PlexUtils.saveForward(),PlexMetrics.moveUTMParamsToGlobal(),PlexMetrics.loadUTMParams(),PlexMetrics.execAllMetricEvents(),PlexMetrics.pushEvent("SitePlexAfterInit"),PlexView.addAfterRenderHook(function(){Plex.maybeLoadPrices(),Plex.SSOSync(),Plex.checkTokenExpiration(),PlexUser.refreshAuthInfo()}),e(document).on("pricesInit",function(e,n){var i={canPurchaseTidalPlans:Plex.canPurchasePlans("tidal")};PlexView.renderAsync(i,t++,Plex.fillPrices)})})}(jQuery,window),function(e,t){"use strict";"undefined"==typeof PlexView?t.PlexView=function(){var t={},n={},i={},r=[],o=[],a=[],s={},l={},c=!1,u=!1,d=!0;return Handlebars.registerHelper({eq:function(e,t){return e===t},ne:function(e,t){return e!==t},lt:function(e,t){return e<t},gt:function(e,t){return e>t},lte:function(e,t){return e<=t},gte:function(e,t){return e>=t},and:function(e,t){return e&&t},or:function(e,t){return e||t},not:function(e){return!e}}),Handlebars.registerHelper("iftrue",function(e,t,n){return e?t:n}),Handlebars.registerHelper("feature",function(e){return PlexUser.hasFeature(e)}),Handlebars.registerHelper("img",function(e){return"<img "+Object.keys(e.hash).map(function(t){return t+'="'+e.hash[t]+'"'}).join(" ")+"/>"}),t.init=function(e){t.loadViews(),t.initBeforeRenderHooks(),t.initAfterRenderHooks(),t.execHooks("once"),t.render(),void 0!==e&&e()},t.initBeforeRenderHooks=function(){o.push(function(){PlexUtils.isDevelopment()&&n.hasOwnProperty("navbar-staging")?(s.stagingUrls=PlexUtils.getStagingUrls(),s.currentStagingUrl=PlexUtils.getCurrentStagingAPIUrl()):delete n["navbar-staging"],s.become="1"===PlexUtils.getCache("become")})},t.initAfterRenderHooks=function(){a.push(function(){e(document).ready(function(){PlexUtils.isDevelopment()&&n.hasOwnProperty("navbar-staging")&&e("#plex-dd-stagingurl").change(function(t){var n=e(t.currentTarget).val();PlexUtils.setCurrentStagingAPIUrl(n),location.reload()})})})},t.addRenderOnceHook=function(t){r.push(function(){e(document).ready(function(){t()})}),c&&t()},t.addAfterRenderHook=function(t){a.push(function(){e(document).ready(function(){t()})}),c&&t()},t.execHooks=function(e){var t=[];"after"===e?t=a:"before"===e?t=o:"once"===e&&(t=r),t.map(function(e){e()})},t.loadViews=function(t){t=void 0!==t?t:".plexview-template";var r=e(t),o=null,a=null,s=null,l=null,c=null,u=e("<div/>");u.addClass("view-loading").css({display:"none"}),e.each(r,function(t,r){o=e(r),s=o.html(),c=o.data("view"),l=Handlebars.compile(s),n[c]=l,a=u.clone().attr("data-parent",c),e(".plexview-"+c).hasClass("async-load")&&(i[c]=l),e(".plexview-"+c).hide(),e(".dynamic-loading.plexview-"+c).after(a),o.remove()})},t.render=function(i){var r=e("<div/>");i=void 0!==i&&i,r.addClass("view-loading"),i||t.execHooks("before"),l={isSignedIn:Plex.isSignedIn(),isSigninIn:Plex.isSigninIn(),refreshInfo:Plex.isRefreshingInfo(),hasAdminPermissions:PlexUser.hasAdminPermissions(),apiURL:PlexUtils.getAPIUrl(),webURL:PlexUtils.getWebUrl(),musicURL:PlexUtils.getMusicUrl(),adminURL:PlexUtils.getAdminUrl(),user:Plex.getAuthInfo(),hasAccessToMusic:PlexFlags.hasAccessToFeature("music"),hasActivePlexPass:Plex.hasActivePlexPass(),hasActiveMusicPass:Plex.hasActiveMusicPass(),hasActiveTidalSubsc:Plex.hasActiveTidalSubsc(),hasExpiredTidalTrial:Plex.hasExpiredTrial("tidal"),otherActiveSubscPlan:Plex.getOtherActiveSubscPlan(),canPurchaseTidalPlans:Plex.canPurchasePlans("tidal"),options:s},e.each(n,function(n,r){var o=!1;try{e(".plexview-"+n).html(r(l)),e(".view-loading[data-parent="+n+"]").hide(),i?(t.loading(n),e(".view-loading[data-parent="+n+"]").hide(200,function(){e(".dynamic-loading.plexview-"+n).fadeIn("slow")})):e(".plexview-"+n).hasClass("async-load")?o=!0:e(".plexview-"+n).fadeIn(),!o&&e(".plexview-"+n).hasClass("foundation-reinit")&&e(document).foundation()}catch(e){console.error("Error compiling "+n+" template."),console.error(e);var a=e.message.replace(/[\u00A0-\u9999<>\&]/gim,function(e){return"&#"+e.charCodeAt(0)+";"});document.write("<pre>"+a+"</pre>")}}),i||t.execHooks("after"),c=!0},t.renderAsync=function(t,n,r){e.extend(l,t),e.each(i,function(t,i){var r=e(".plexview-"+t);try{r.html(i(l)),n?r.show():r.delay(500).fadeIn(),r.hasClass("foundation-reinit")&&e(document).foundation()}catch(e){console.error("Error compiling "+t+" template."),console.error(e);var o=e.message.replace(/[\u00A0-\u9999<>\&]/gim,function(e){return"&#"+e.charCodeAt(0)+";"});return void document.write("<pre>"+o+"</pre>")}}),void 0!==r&&r()},t.loading=function(i){if(void 0!==i)return void t._loading(i);e.each(n,function(e,n){t._loading(e)})},t._loading=function(t){try{e(".dynamic-loading.plexview-"+t).hide(),e(".view-loading[data-parent="+t+"]").show(),e("[data-parent="+t+"]").fadeIn()}catch(e){console.error("Error compiling "+t+" template."),console.error(e);var n=e.message.replace(/[\u00A0-\u9999<>\&]/gim,function(e){return"&#"+e.charCodeAt(0)+";"});document.write("<pre>"+n+"</pre>")}},t.cancelLoading=function(t){var n=e(".view-loading:visible");n.length&&setTimeout(function(){e(".view-loading").hide(),n.each(function(t,n){var i=e(n).data("parent");e(".plexview-"+i).fadeIn()})},1e3)},t.setRunHooks=function(e){u=e},t.runViewHooks=function(){return u},t.setRefreshView=function(e){d=e},t.refreshView=function(){return d},t.refresh=function(){var e=!t.runViewHooks();t.render(e)},t}():console.log("PlexView is already defined."),e(document).ready(function(){}),e(t).on("beforeunload",function(e){PlexView.cancelLoading()})}(jQuery,window),function(e,t){"use strict";"undefined"==typeof PlexUser?t.PlexUser=function(){var t={},n=null;t.getPasswordToken=function(){var e=PlexUtils.getParam("token");return void 0===e&&(e=PlexUtils.getParam("reset_password_token")),e},t.hasRole=function(e){if(!Plex.isSignedIn())return!1;var t=[];return void 0!==Plex.getAuthInfo().roles&&(Array.isArray(Plex.getAuthInfo().roles)?t=Plex.getAuthInfo().roles:Array.isArray(Plex.getAuthInfo().roles.roles)&&(t=Plex.getAuthInfo().roles.roles),-1!==t.indexOf(e))},t.hasFeature=function(e){return!!Plex.isSignedIn()&&-1!==Plex.getAuthInfo().subscription.features.indexOf(e)},t.hasAdminPermissions=function(){if(!Plex.isSignedIn())return!1;if(void 0===Plex.getAuthInfo().roles)return!1;var e=[],t=["admin","app_manager","user_admin","marketing_admin","employee"]
;return Array.isArray(Plex.getAuthInfo().roles)?e=Plex.getAuthInfo().roles:Array.isArray(Plex.getAuthInfo().roles.roles)&&(e=Plex.getAuthInfo().roles.roles),e.reduce(function(e,n){return e||t.reduce(function(e,t){return e||t==n},!1)},!1)},t.refreshAuthInfo=function(t,n){if(Plex.isSignedIn()){if(n=void 0!==n&&n,Plex.isRefreshingInfo()){var i=PlexUtils.getPageForURL();if(i&&Plex.getSignInPage().indexOf(i)>=0&&!PlexUtils.isReturningWebApp())return;t=!0}var r=Plex.getAuthInfo();if(moment.unix(r.lstorage_at).add(2,"minute").unix()<moment().unix()||t){PlexView.setRefreshView(!1),t&&PlexView.setRunHooks(!1),Plex.setAuthInfo(r,r.rememberMe);var o=PlexUtils.getParam("become"),a=PlexUtils.getParam("unbecome");if("1"===o)return PlexUtils.setCache("become","1",600),Plex.getAuthInfo();if("1"===a)return PlexUtils.setCache("become",0,1),Plex.getAuthInfo();var s={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier(),"X-Plex-Token":Plex.getAuthToken()};e.ajax({dataType:"json",type:"GET",headers:s,url:PlexUtils.getAPIUrl()+"/api/v2/user",data:{includeSubscriptions:!0},crossDomain:!0,success:function(e){var i=void 0!==e.rememberExpiresAt&&e.rememberExpiresAt;Plex.debugLog()&&console.log(e),i||n?Plex.setAuthInfo(e,i):(Plex.removeAuthInfo(),t||Plex.signInRedirect())},error:function(e){401!=e.status&&422!=e.status||(Plex.removeAuthInfo(),t||Plex.signInRedirect())}})}}},t.getActivePayment=function(){var t=e.Deferred(),n={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier()};return Plex.isSignedIn()&&(n["X-Plex-Token"]=Plex.getAuthToken()),e.ajax({dataType:"json",type:"GET",headers:n,url:PlexUtils.getAPIUrl()+"/api/v2/user/payment_method",crossDomain:!0}).done(function(e){t.resolve(e)}).fail(null,function(e){t.resolve(!1)}),t.promise()},t.getSubscriptions=function(){var n=e.Deferred(),i={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier()};return Plex.isSignedIn()&&(i["X-Plex-Token"]=Plex.getAuthToken()),e.ajax({dataType:"json",type:"GET",headers:i,url:PlexUtils.getAPIUrl()+"/api/v2/user/subscriptions",crossDomain:!0}).done(function(e){t.cacheSubscriptions(e),n.resolve(e)}).then(null,function(e){n.reject(e)}),n.promise()},t.getSubscriptionsInfo=function(){try{var e=localStorage.getItem("plex_tv_subsc");if(e)return JSON.parse(e)}catch(e){console.warn("Your browser doesn't support local storage.")}},t.cacheSubscriptions=function(e){try{void 0!==e&&localStorage.setItem("plex_tv_subsc",JSON.stringify(e))}catch(e){console.warn("Your browser doesn't support local storage.")}},t.clearSubscriptions=function(){try{localStorage.removeItem("plex_tv_subsc")}catch(e){console.warn("Your browser doesn't support local storage.")}},t.handleUpdatePasswordSubmit=function(n){var i=e(n),r=e(".form-update-password"),o=t.getPasswordToken(),a=i.find("#password").val(),s={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier()};return i.find(".plex-element").hide(),i.find(".plex-password-loading").show(),e.ajax({dataType:"json",type:"PUT",headers:s,url:PlexUtils.getAPIUrl()+"/api/v2/users/password.json",data:{token:o,password:a},crossDomain:!0,success:function(e){r.find(".plex-element").hide(),r.find(".plex-password-success").show()},error:function(e){if(r.find(".plex-element").hide(),void 0!==e.responseJSON.errors&&e.responseJSON.errors.length>0){var t=e.responseJSON.errors;void 0!==t[0].message&&t[0].message.length>0?(r.find(".plex-password-error-message").html(e.responseJSON.errors[0].message),r.find(".plex-password-error").show()):r.find(".plex-password-error-generic").show()}r.find(".plex-form").show()}}),!1},t.hideElements=function(e){e.find(".plex-element").hide()},t.initPinResetForm=function(){var i={},r=e(".form-pinreset");n=r,i["pin-equalto"]=e(".message-pin-equalto"),t.hideElements(r),r.find(".plex-pinreset-loading").show(),Plex.signInGuard()&&(t.hideElements(r),r.find(".plex-form").show(),r.find(".plex-form > form").validate({rules:{pin:{required:!0,digits:!0},"pin-confirm":{required:!0,digits:!0,equalTo:"#pin"}},messages:{"pin-confirm":{equalTo:i["pin-equalto"].length>0?i["pin-equalto"].html():"The pin numbers you entered do not match."}},showErrors:PlexUtils.showErrorsOnForm,submitHandler:t.handlePinResetSubmit}),r.find("#code").focus())};var i=0;return t.checkPasswordStrength=function(t){clearTimeout(i),i=setTimeout(function(){var n,i,r=e(t.currentTarget),o=zxcvbn(r.val()),a=o.score,s=r.parent();s.find(".strength-indicator .si").hide(),s.find(".strength-text .st").hide(),""!=r.val()&&(0==a||1==a?(n=".st.weak",i=".si.weak"):2==a?(n=".st.fair",i=".si.weak, .si.fair"):3==a?(n=".st.good",i=".si.weak, .si.fair, .si.good"):(n=".st.strong",i=".si.weak, .si.fair, .si.good, .si.strong"),s.find(n).show(),s.find(i).show())}.bind(this),350)},t.initUpdatePasswordForm=function(){var n=e(".form-update-password"),i={};n.find(".plex-element").hide(),i["confirmPassword-required"]=n.find(".message-confirmPassword-required"),i["confirmPassword-equalTo"]=n.find(".message-confirmpassword-equalto"),i["password-required"]=n.find(".message-password-required"),i["password-minlength"]=n.find(".message-password-minlength");var r=t.getPasswordToken(),o=PlexUtils.getParam("emailReset"),a=PlexUtils.getParam("newEmail"),s=PlexUtils.getParam("oldEmail");null===r||""===r||void 0===r?n.find(".plex-password-nopin  ").show():n.find(".plex-form").show(),n.find(".plex-form > form").validate({rules:{password:{required:!0,minlength:8},confirmPassword:{required:!0,equalTo:"#password"}},messages:{confirmPassword:{required:i["confirmPassword-required"].length>0?i["confirmPassword-required"].html():"Password is required",equalTo:i["confirmPassword-equalTo"].length>0?i["confirmPassword-equalTo"].html():"Passwords do not match"},password:{required:i["password-required"].length>0?i["password-required"].html():"Password is required",minlength:i["password-minlength"].length>0?i["password-minlength"].html():"Password should be at least 8 characters long"}},showErrors:PlexUtils.showErrorsOnForm,submitHandler:t.handleUpdatePasswordSubmit}),n.find("#password").keyup(t.checkPasswordStrength).blur(function(){var t=e(".strength-indicator");t.hide(),t.find(".si").hide(),t.find(".strength-text .st").hide()}).focus(function(){e(".strength-indicator").show()}),"1"===o?(n.find(".plex-password-email-success").show(),n.find(".plex-password-email-success .old-email").html(s)):"0"===o&&(n.find(".plex-password-email-fail").show(),n.find(".plex-password-email-fail .new-email").html(a),n.find(".plex-password-email-fail .old-email").html(s))},t.handlePinResetSubmit=function(i){t.hideElements(n),n.find(".plex-pinreset-loading").show();var r={"X-Plex-Product":"Plex SSO","X-Plex-Token":Plex.getAuthToken(),"X-Plex-Client-Identifier":Plex.getClientIdentifier()},o=Plex.getAuthInfo(),a=e(i),s=a.find("#pin").val(),l=a.find("#password").val(),c={pin:s};return o.hasPassword&&(c.currentPassword=l),e.ajax({dataType:"json",type:"PUT",headers:r,url:PlexUtils.getAPIUrl()+"/api/v2/user.json",data:c,crossDomain:!0,success:function(e){t.hideElements(n),n.find(".plex-pinreset-success").show()},error:function(i){t.hideElements(n),void 0!==i.responseJSON.errors&&i.responseJSON.errors.length>0&&e(".plex-pinreset-error-message").html(i.responseJSON.errors[0].message),n.find(".plex-pinreset-error").show(),n.find(".plex-form").show()}}),!1},t}():console.log("PlexUser is already defined."),e(document).ready(function(){})}(jQuery,window),function(e,t){"use strict";t.onerror=function(n,i,r,o,a){if(plex_l10n.js_error_log){var s={error:a,source:i,lineno:r,page_id:plex_l10n.post_id,location:t.location.href},l={"X-WP-Nonce":plex_l10n.errors.nonce};e.ajax({type:"POST",url:plex_l10n.errors.endpoint,data:s,headers:l,success:function(){console.error("Error detected. We were informed.")}},"json")}},PlexConditionizr.init(),"undefined"==typeof PlexSite&&(t.PlexSite=function(){var n={init:function(){n.featureFlagRedirects(),n.wrapDropdowns(),n.statsRollIn(),n.higlightSubMenuItems(),n.smoothScrollBind(),i.init(),e.event.trigger({type:"plex_site_init"}),PlexMetrics.pushEvent("SiteInit"),n.SVGtoInline()},SVGtoInline:function(){e("img.svg").each(function(){var t=e(this),n=t.attr("id"),i=t.attr("class"),r=t.attr("src");e.get(r,function(r){var o=e(r).find("svg");void 0!==n&&(o=o.attr("id",n)),void 0!==i&&(o=o.attr("class",i+" replaced-svg")),o=o.removeAttr("xmlns:a"),!o.attr("viewBox")&&o.attr("height")&&o.attr("width")&&o.attr("viewBox","0 0 "+o.attr("height")+" "+o.attr("width")),t.replaceWith(o)},"xml")})},wrapDropdowns:function(){e(".sidebar [class*=widget_] select:not([name=cat])").wrap('<div class="select-container"></div>'),e(".sidebar [class*=widget_] select[name=cat]").parent("form").addClass("select-container"),e(".ginput_card_expiration").wrap('<div class="select-container"></div>')},statsRollIn:function(){e(".count").each(function(){e(this).attr("Counter",0).animate({Counter:e(this).text()},{duration:1e3,easing:"swing",step:function(t){e(this).text(Math.ceil(t))}})})},higlightSubMenuItems:function(){e(".dynamic-submenu-item-highlight[data-bucket]").each(function(t,n){parseInt(plex_l10n.post_id)!==parseInt(e(n).data("bucket"))&&parseInt(plex_l10n.post_parent)!==parseInt(e(n).data("bucket"))||e(this).addClass("current-menu-item")})},displayPopUps:function(){var e=plex_l10n.popup_exceptions,t=plex_l10n.popup_pages;parseInt(plex_l10n.is_page)&&Plex.hasActivePlexPass()&&!Plex.hasActiveTidalSubsc()&&PlexFlags.hasAccessToFeature("music")&&(void 0===e||void 0===e.tidal||e.tidal.indexOf(plex_l10n.post_id)<0)&&void 0!==t&&t.tidal.indexOf(plex_l10n.post_id)>=0&&n.displayOneTimePopUp("tidal")},featureFlagRedirects:function(){PlexFlags.skipFeatureFlags()||void 0!==plex_l10n.feature_flags_actions.redirects&&e.each(plex_l10n.feature_flags_actions.redirects,function(t,n){PlexFlags.hasAccessToFeature(t)||e.each(n,function(e,t){if(parseInt(plex_l10n.post_id)===parseInt(e))return PlexUtils.redirect(t),!1})})},smoothScrollBind:function(){e.each(e('[href^="#"]:not("[data-smooth-scroll]")'),function(t,n){if(1===e(n).attr("href").length)return!0;var i=e(n).attr("href");e(i).length&&e(n).attr("data-smooth-scroll",i)}),e.each(e("[data-smooth-scroll]"),function(t,i){e(i).on("click",function(){n.scrollToHash(e(i).data("smooth-scroll"))})})},scrollToHash:function(t){var n=void 0!==t?t:location.hash;n&&n.length>1&&e(n).length&&e("html,body").animate({scrollTop:e(n).offset().top},700)},toggleDynamicMenuItems:function(){if(e(".menu-item.nav-item-toggable").show(),Plex.isSignedIn()?e(".menu-item.signed_in-hide").hide():e(".menu-item.signed_out-hide").hide(),Plex.hasActivePlexPass()&&Plex.hasActiveTidalSubsc()&&e(".menu-item.bundle_users-hide").hide(),Plex.hasActivePlexPass()&&e(".menu-item.plex_pass-hide").hide(),Plex.hasActiveTidalSubsc()&&e(".menu-item.tidal_subsc-hide").hide(),Plex.isSignedIn()){var t=PlexUser.getSubscriptionsInfo();void 0!==t&&t.length||e(".menu-item.free_users-hide").hide()}},displayOneTimePopUp:function(t){var n,i=e("[data-remodal-id=modal-"+t+"]"),r="plex_tv_cta_"+t;if(i.length){try{n=localStorage.getItem(r)}catch(e){n=Cookies.get(r)}if(void 0===n||null===n)try{i.remodal().open(),e(document).on("click",i.find(".icon-close"),function(){try{localStorage.setItem(r,1)}catch(e){return Cookies.set(r,1,{domain:PlexUtils.getCookieDomain()}),null}})}catch(e){}}}},i={init:function(){(new WOW).init(),i.initSlick(),i.initTooltips()},initTooltips:function(){e(".tooltip").tooltipster({theme:"tooltipster-shadow",minWidth:300,interactive:!0}),e(".tooltip-lang").tooltipster({theme:"tooltipster-shadow",maxWidth:275,interactive:!0,trigger:"click",position:"top"}),e(".tooltip-ota").tooltipster({theme:"tooltipster-shadow",maxWidth:400,interactive:!0}),e(".tooltip-pms").tooltipster({theme:"tooltipster-shadow",maxWidth:400,interactive:!0,functionReady:function(t,n){e(document).on("click",e(n.origin),function(){e(n.origin).tooltipster("close")})}}),e.fatNav()},initSlick:function(){e(document).on("init",".slick-start-hidden",function(t,n){e(this).show()}),e(document).on("change.zf.tabs","#feature-tabs",function(t,n){e(".multiple-items.cards").slick("slickGoTo",0)}),e(t).scroll(function(){if(e(".multiple-items").length){var n=e(".multiple-items").offset().top,i=e(t).height();e(this).scrollTop()>n-i&&e(".multiple-items").not(".slider-playing").addClass("slider-playing").slick("slickPlay")}}),e(document).on("change.zf.tabs",".tabs[data-tabs-slick]",function(t,n){var i=n.find("a").attr("href"),n=e(i).find(".multiple-items");n.slick("setPosition"),n.find(".yolo").length<=4&&n.find(".slick-dots").hide()}),e(".multiple-items").slick({infinite:!0,slidesToShow:4,slidesToScroll:2,arrows:!1,dots:!0,autoplaySpeed:6e3,responsive:[{breakpoint:1441,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:1025,settings:{slidesToShow:2,slidesToScroll:2,infinite:!0,dots:!0}},{breakpoint:641,settings:{slidesToShow:1,slidesToScroll:1}}]}),e(".hero-carousel").slick({autoplay:!0,pauseOnHover:!0,dots:!0,arrows:!1,infinite:!0,speed:600,autoplaySpeed:6e3,slidesToShow:1}),e(".tabs[data-tabs-slick]").length||e(".slick-list").find(".slick-slide").length<=4&&e(".slick-list").closest(".slick-slider").find(".slick-dots").hide()}};return n}()),e(t).load(function(){PlexSite.scrollToHash()}),e(document).ready(function(){if(PlexView.init(),PlexSite.init(),PlexView.addAfterRenderHook(function(){PlexSite.toggleDynamicMenuItems(),PlexSite.displayPopUps()}),e(document).on("click",".has-subnav",function(t){var n=this,i=e("."+e(this).data("pulldown")),r=e("."+e(this).data("sectionhide"));e(".section-temp-hidden").removeClass("section-temp-hidden").show(),e(this).hasClass("open")||(e(".submenu-opened").hide(),e(".has-subnav").removeClass("open"));var o=function(t,n,i){var n=n||"submenu-active";e(".header, body").removeClass(n),r.length&&r.show().addClass("section-temp-hidden"),t&&(e(".header, body").addClass(n),i.addClass("submenu-opened"),r.length&&r.hide())};return e(this).toggleClass("open"),i.slideToggle(0,function(){o(e(this).is(":visible"),"submenu-active",e(this))}),e(document).on("click",function(t){t.target!==n&&(i.hide(o(!1,"submenu-active",i)),e(".has-subnav").removeClass("open"))}),t.preventDefault(),!1}),e("#back-to-top").length){var n=0,i=sessionStorage.getItem("plex_btt_closed"),r=e(e(".block-cta").length?".block-cta":".footer-main"),o=function(){e("#back-to-top").remove(),e("#btt-up").addClass("btt-closed"),i=!1},a=function(){var o=e(t).scrollTop();r.length&&(n=r.offset().top-1500),o>600&&null===i?(e("#back-to-top").addClass("show"),n&&o>=n?(e("#back-to-top").removeClass("show"),e("#btt-up").addClass("btt-closed")):null===i&&e("#btt-up").removeClass("btt-closed")):e("#back-to-top").removeClass("show")};a(),e(t).on("scroll",function(){a()}),e(document).on("click","#btt-close",function(e){o(),sessionStorage.setItem("plex_btt_closed",1),e.preventDefault()}),e(document).on("click","#btt-up",function(t){t.preventDefault(),e("html,body").animate({scrollTop:0},700)})}e(document).on("click",".scrollto",function(t){var n=e(this).data("anchor"),i=void 0!==e(this).data("speed")?e(this).data("speed"):500;t.preventDefault(),e("html, body").animate({scrollTop:e("#"+n).offset().top},i)}),e(".plex-responsive-bg-image > img.lazy").show(),e(document).foundation(),FastClick.attach(document.body)})}(jQuery,window),function(e,t){"use strict";"undefined"==typeof PlexCJ&&(t.PlexCJ=function(){var t={cookieName:"plex_tv_cj",trackingData:{PID:"",AID:"",SID:"",CJEVENT:""},init:function(){var e=PlexUtils.getParam("PID"),n=PlexUtils.getParam("AID"),i=PlexUtils.getParam("SID"),r=PlexUtils.getParam("cjevent");if(void 0===e||void 0===n)return void(Cookies.get(t.cookieName)&&(t.trackingData=Cookies.getJSON(t.cookieName)));var o=PlexUtils.getCookieDomain();t.trackingData={PID:e,AID:n,CJEVENT:r},void 0!==i&&(t.trackingData.SID=i),Cookies.set(t.cookieName,t.trackingData,{domain:o,expires:45})},trackSubscription:function(n,i){if(t.trackingData.AID){var r=n.amount;n.hasDiscount&&(r=n.fullPrice);var o={CID:1543155,type:396634,containerTagId:20910},a={ITEM1:n.plan,AMT1:r,QTY1:1,OID:i,CURRENCY:n.currency,CJEVENT:t.trackingData.CJEVENT};n.hasDiscount&&(a.DISCOUNT=n.discount,a.COUPON=n.value,n.trial&&(o.containerTagId=25966,o.type=400867,a.AMT1="0.00")),e.extend(o,a);var s="https://www.emjcd.com/tags/c?";Object.keys(o).map(function(e,t){s+=e+"="+o[e]+"&"}),document.getElementById("cj_conversion")&&(document.getElementById("cj_conversion").src=s)}}};return t}()),e(document).ready(function(){PlexCJ.init()})}(jQuery,window);