!function(r,t){"use strict";"undefined"==typeof PlexConditionizr&&(t.PlexConditionizr={init:function(){conditionizr.add("retina",function(){return 1.5<=t.devicePixelRatio}),conditionizr.add("chrome",function(){return!!t.chrome&&/google/i.test(navigator.vendor)}),conditionizr.add("safari",function(){return/Constructor/.test(t.HTMLElement)||"[object SafariRemoteNotification]"===(!(e=t.safari)||e.pushNotification).toString();var e}),conditionizr.add("firefox",function(){return"InstallTrigger"in t}),conditionizr.add("touch",function(){return"ontouchstart"in t||!!navigator.msMaxTouchPoints}),conditionizr.config({assets:plex_l10n.path_to_css,tests:{safari:["class"],chrome:["class"],firefox:["class"],retina:["class"],touch:["class"]}})}}),r(document).ready(function(){var i="alt-retina-style";conditionizr.on("retina",function(){r(".conditionizr-style").each(function(e,t){var n=r(this).data(i);n&&r(this).attr("style",n)})}),r(".conditionizr-style").removeAttr("data-"+i)})}(jQuery,window),function(e,t){"use strict";var n={img:"",src:"",element:"",init:function(e){n.element=e,n.img=e.querySelector("img"),n.src="",n.img.addEventListener("load",n.update()),n.img.complete&&n.update()},update:function(){var e=n.img.src;n.src!==e&&(n.src=e,n.element.style.backgroundImage='url("'+n.src+'")')}};e(".plex-responsive-bg-image").each(function(e,t){n.init(t)})}(jQuery,window),function(a,i){"use strict";var r,s;"undefined"==typeof PlexLanguage&&(i.PlexLanguage=(s="en_US",(r={}).init=function(){Transifex.live.onFetchLanguages(function(e){var t=a(".lang-selector #tip-languages");t.empty();for(var n=0;n<e.length;++n)if(!(!0!==plex_l10n.transifex.valid_languages&&plex_l10n.transifex.valid_languages.indexOf(e[n].code)<0)){var i=a("<a />"),r=plex_l10n.transifex.localized_urls[e[n].code];i.text(e[n].name).attr("href",r);var o=a("<li />");o.attr("data-code",e[n].code).attr("data-name",e[n].name).css("cursor","pointer").html(i),t.append(o)}a(".sel-language").html(Transifex.live.getLanguageName(s)),Transifex.live.onTranslatePage(function(e){a(".sel-language").html(Transifex.live.getLanguageName(e))})})},r.maybeRedirect=function(){var e=r.getSavedLang();if(e&&void 0===PlexUtils.getParam("langr")&&e!==s&&e!==Transifex.live.getSelectedLanguageCode()){var t=plex_l10n.transifex.localized_urls[e];if(void 0!==t){var n="?";i.location.search&&(n=i.location.search,n+="&"),n+="langr=1",t+=n+=i.location.hash,i.location.replace(t)}else Transifex.live.hasLanguageCode(e)||Cookies.remove("plex_tv_lang",{domain:Plex.getCookieDomain()})}},r.getUserLang=function(){var e=navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage,t=r.getSavedLang();return t||"undefined"!=typeof Transifex&&(t=Transifex.live.normalizeLangCode(e)),t||"undefined"==typeof Transifex||(t=Transifex.live.getLanguageName(s)),t},r.getSavedLang=function(){var e=Cookies.get("plex_tv_lang");return!(null==e||!e)&&e},r.setUserLang=function(e,t){if(null!=e){var n=PlexUtils.getCookieDomain();Cookies.set("plex_tv_lang",e,{domain:n,expires:365})}},r.languageSwitcher=function(){if(a(".header").is(":visible")){var e=r.getSavedLang(!0),t=a("#plex-language-bar");if(void 0===e||!e){var n=r.getUserLang(!0);s!==n&&Transifex.live.hasTargetLanguage(n)&&(t.find(".site-language-switch").attr("href","").on("click",function(){return r.setUserLang(n),Transifex.live.translateTo(n,!0),t.hide(),!1}),t.find(".dismiss-language-switch").on("click",function(){return r.setUserLang(s),t.hide(),!1}),t.find(".site-language-switch-language").text(Transifex.live.getLanguageName(n)),t.show())}}},r)),"undefined"!=typeof Transifex&&Transifex.live.onReady(function(){PlexLanguage.init(),plex_l10n.transifex.js_redirect&&PlexLanguage.maybeRedirect(),PlexLanguage.languageSwitcher(),jQuery.tooltipster&&jQuery(".lang-selector .tooltip").tooltipster({trigger:"click",interactive:!0}),jQuery(document).on("click","#tip-languages a",function(){var e=jQuery(this).parent().data("code");void 0!==e&&e&&PlexLanguage.setUserLang(e)})})}(jQuery,window),function(o,s){"use strict";var a,n,i;"undefined"==typeof PlexUtils?s.PlexUtils=(n={stagingeu:"https://stagingeu.plex.tv",staging:"https://staging.plex.tv",staging2:"https://staging2.plex.tv",stagingtv:"https://stagingtv.plex.tv",plex4:"https://staging.plex.tv",development:"https://staging.plex.tv"},i={stagingeu:"https://stagingeu-webloader.plex.tv",staging:"https://staging-webloader.plex.tv",staging2:"https://staging2-webloader.plex.tv",stagingtv:"https://stagingtv-webloader.plex.tv",plex4:"https://staging-webloader.plex.tv",development:"https://staging-webloader.plex.tv"},(a={}).isDevelopment=function(){var e=o(location).attr("hostname");return new RegExp(/((\/\/(.*?)|)(staging|plex4).*?plex\.tv)/).test(e)||a.isLocalDevelopment()},a.isLocalDevelopment=function(){var e=o(location).attr("hostname");return new RegExp(/((\/\/(\S+\.)*|)plex\.(dev|test))/).test(e)},a.getAPIUrl=function(){var e="https://plex.tv";return a.isDevelopment()&&(e=a.getCurrentStagingAPIUrl()),e},a.getWebUrlBase=function(){var e="https://app.plex.tv";return a.isDevelopment()&&(e=a.getCurrentWebStagingAPIUrl()),e},a.getWebUrl=function(){var e="/desktop";return a.isLocalDevelopment()?e+="-ninja":(PlexUser.hasRole("ninja")||PlexUser.hasRole("employee"))&&(e+="-ninja"),a.getWebUrlBase()+e},a.getMusicUrl=function(){var e="/desktop";return a.isLocalDevelopment()?e+="-ninja":(PlexUser.hasRole("ninja")||PlexUser.hasRole("employee"))&&(e+="-ninja"),e+="#!/provider/tv.plex.provider.music",a.getWebUrlBase()+e},a.getAdminUrl=function(){return a.getAPIUrl()+"/admin"},a.getCurrentStagingAPIUrl=function(){var e=Cookies.get("plex_tv_staging_url");return null==e&&(e=a.getDefaultStagingUrl()),e},a.getCurrentWebStagingAPIUrl=function(){var e=o(location).attr("hostname").split("-")[0],t=Cookies.get("plex_tv_staging_web_url");return null==t&&(t=a.isLocalDevelopment()?i.development:i[e]),t},a.setCurrentStagingAPIUrl=function(e){Cookies.set("plex_tv_staging_url",e)},a.setCurrentStagingWebAPIUrl=function(e){Cookies.set("plex_tv_staging_web_url",e)},a.getStagingUrls=function(){var e={development:"http://api.plex.test"};if(!a.isLocalDevelopment()){var t=o(location).attr("hostname").split("-")[0];e[t]=n[t]}return e},a.getDefaultStagingUrl=function(){var e=o(location).attr("hostname").split("-")[0],t=n[e];return a.isLocalDevelopment()&&(t=n.development),t},a.isSecure=function(){return-1!==location.protocol.indexOf("https")},a.isMobile=function(){var e=!1;return"iOS"!==platform.os.family&&"Android"!==platform.os.family&&"Windows Phone"!==platform.os.family||(e=!0),e},a.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},a.isReturningWebApp=function(){return 0<=document.referrer.indexOf(a.getWebUrlBase())},a.GetURLParameter=function(e,t){var n=s.location.search.substring(1);if(t=void 0===t||t,!n&&t){var i=s.location.href.split("?");1<i.length&&(n=i[1])}for(var r=n.split("&"),o=0;o<r.length;o++){var a=r[o].split("=");if(a[0].toLowerCase()===e.toLowerCase())return decodeURIComponent(a[1])}},a.getParam=function(e){return a.GetURLParameter(e)},a.getURLHash=function(){return void 0!==s.location.hash?s.location.hash:""},a.getPageForURL=function(e){var t=(e=void 0!==e?e:s.location.pathname).replace(/\/$/,"");return t.substring(t.lastIndexOf("/")+1)},a.removeParam=function(e,t){t||(t=s.location.href);var n=t.split("#"),i=new RegExp("([?&])"+e+"=.*?(&|#|$)","i");return n[0].match(i)&&(t=(t=n[0].replace(i,"$1")).replace(/([?&])$/,""),void 0!==n[1]&&null!==n[1]&&(t+="#"+n[1])),t},a.appendParamToURLString=function(e,t){var n="",i="",r="";return r=void 0!==t&&void 0!==t.href&&t.href?(n=t.href,i=t.search,t.hash):(n=s.location.href,i=s.location.search,s.location.hash),n=n.replace(/#$/,""),i&&0<=i.indexOf(e)||(i?n=n.replace(i,i+"&"+e):(e="?"+e,r?n=n.replace(r,e+r):n+=e)),n},a.appendParamToURL=function(e){var t=a.appendParamToURLString(e);s.history.replaceState({},"",t)},a.setCache=function(e,t,n){var i={expiration:moment().add(n,"m").unix(),value:t};try{sessionStorage.setItem(e,JSON.stringify(i))}catch(e){return console.warn("Your browser doesn't support session storage."),!1}return!0},a.clearSessionCache=function(e){try{void 0!==e?sessionStorage.removeItem(e):sessionStorage.clear()}catch(e){console.warn("Your browser doesn't support session storage.")}},a.getCache=function(e,t){void 0===t&&(t=!1);var n=null;try{null!==(n=sessionStorage.getItem(e))&&((n=JSON.parse(n)).expiration<moment().unix()?(sessionStorage.removeItem(e),n=null):t||(n=n.value))}catch(e){console.warn("Your browser doesn't support session storage."),n=null}return n},a.getCookieDomain=function(){var e=".plex.tv",t=o(location).attr("hostname"),n=new RegExp(/((\/\/(\S+\.)*|)plex\.dev)/);return a.isLocalDevelopment()&&(e=".plex.test",n.test(t)&&(e=".plex.dev")),e},a.getForward=function(e){void 0===e&&(e=!1);var t=e?"ext_forward":"forward",n=a.getParam(t);if(void 0!==n)return n;var i=sessionStorage.getItem(t);return null!=i&&(n=i),n},a.saveForward=function(){var e=a.getParam("forward"),t=a.getParam("external_forward")||a.getParam("externalForward");try{void 0!==e&&sessionStorage.setItem("forward",e),void 0!==t&&sessionStorage.setItem("ext_forward",t)}catch(e){return console.warn("Your browser doesn't support session storage."),!1}},a.setForward=function(e){sessionStorage.setItem("forward",e)},a.clearForward=function(){try{sessionStorage.removeItem("forward"),sessionStorage.removeItem("ext_forward")}catch(e){return console.warn("Your browser doesn't support session storage."),!1}},a.redirect=function(e){var t=a.getForward(),n=a.getForward(!0),i=new RegExp("^(?:[a-z]+:)?//","i"),r="";if(r=a.isLocalDevelopment()?new RegExp(/(\/\/(\S+\.)*plex\.(dev|test)(:\d+)?(\z|\/))/):new RegExp(/(\/\/(\S+\.)*plex\.tv(:\d+)?(\z|\/))/),void 0!==t)"web"===(e=t).toLowerCase()&&(e=a.getWebUrl()),i.test(t)&&!r.test(t)&&(e="/");else if(void 0!==n){e=n;try{s.history.location.replaceState({},"Plex Media Server",s.location.origin+s.location.pathname)}catch(e){console.log("couldn't change the referer before the redirect")}i.test(n)?r.test(n)||(e="/"):e=a.getAPIUrl()+n}void 0===e&&(e="/"),a.clearForward(),s.location.href=e},a.showErrorsOnForm=function(e,t){o.each(this.validElements(),function(e,t){var n=o(t).parent(),i=n.find(".icomoon"),r="icon-form-success";n.find(".field-error").html("").hide(),n.hasClass("no-checkmark")&&(r=i.data("original-icon")),i.removeClass(function(e,t){return(t.match(/(^|\s)icon-\S+/g)||[]).join(" ")}).addClass(r),n.removeClass("input-field-error").addClass("input-field-success")}),o.each(t,function(e,t){var n=o(t.element).parent();n.find(".icomoon").removeClass(function(e,t){return(t.match(/(^|\s)icon-\S+/g)||[]).join(" ")}).addClass("icon-form-error"),n.find(".field-error").html(t.message).show(),n.removeClass("input-field-success").addClass("input-field-error")})},a):console.log("PlexUtils is already defined."),o(document).ready(function(){})}(jQuery,window),function(a,e){"use strict";var s,i,t,n,o;"undefined"==typeof PlexFlags?e.PlexFlags=(s={},i=null,t={music:"e7cea823-02e5-48c4-a501-d37b82bf132f"},n=plex_l10n.feature_flags_active,o=plex_l10n.feature_flags_actions,s.getFeaturesTree=function(){var e=PlexUtils.getCache("plex_features_tree");return Plex.debugLog()&&null!==e&&PlexUtils.getParam("feature_flag")&&(PlexUtils.getParam("feature_flag"),e[t[PlexUtils.getParam("feature_flag")]]=!0),e},s.refreshFeaturesTree=function(e){var n=a.Deferred();if(!s.activeFeatureFlags())return n.resolve();if((e=void 0!==e&&e)&&PlexUtils.clearSessionCache("plex_features_tree"),null!=(i=s.getFeaturesTree()))return n.resolve(i);var t={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier()};return Plex.isSignedIn()&&(t["X-Plex-Token"]=Plex.getAuthToken()),a.ajax({dataType:"json",type:"GET",headers:t,url:PlexUtils.getAPIUrl()+"/api/v2/features.json",crossDomain:!0}).always(function(e,t){i={},"error"!==t?(a.each(e,function(e,t){i[t.uuid]=!0}),PlexUtils.setCache("plex_features_tree",i,10),n.resolve(i)):n.resolve(),Plex.debugLog()&&console.log("Updated features tree")}),n.promise()},s.activeFeatureFlags=function(){return!(void 0===n||void 0===o||!n.length)},s.skipFeatureFlags=function(e){return e=void 0!==e?e:"",!(s.activeFeatureFlags()&&!(e&&n.indexOf(e)<0))},s.getFeatureState=function(e){if(s.skipFeatureFlags(e))return!0;var t=!1,n=s.getFeaturesTree();return null!==n&&n.hasOwnProperty(e)&&(t=n[e]),Plex.debugLog()&&console.log("Feature flag "+e+" state is "+t),t},s.getFeatureStateByType=function(e){return!!s.skipFeatureFlags(e)||void 0!==t[e]&&s.getFeatureState(t[e])},s.hasAccessToFeature=function(e){return s.getFeatureStateByType(e)},s.refreshUI=function(){s.skipFeatureFlags()||void 0!==o.selectors&&s.doUISelectors(o.selectors)},s.doUISelectors=function(e){a.each(e,function(e,t){var n="",i=a(t).data("groupDisplay");Plex.debugLog()&&console.log("Checking features flags UI selectors for "+e+" :: "+t),void 0!==i&&(n=a("."+i));var r=s.getFeatureStateByType(e);void 0!==o.alt_classes&&void 0!==o.alt_classes[i]&&s.doUIAltClasses(r,n,o.alt_classes[i]),r?a(t).not(":visible").fadeIn():a(t).hide()})},s.doUIAltClasses=function(e,t,n){var i=n.default,r=n.alt;Plex.debugLog()&&console.log("Checking UI alt classes for the feature"),t.removeClass(i+" "+r),e?t.addClass(i):t.addClass(r)},s.doUIAltClasses__=function(e){a.each(e,function(o,e){a.each(e,function(e,t){var n=t.default,i=t.alt,r=t.child_selectors;a(e).removeClass(n+" "+i),a(e).find(r).hasClass(r),s.getFeatureStateByType(o)?a(e).addClass(n):a(e).addClass(i)})})},s):console.log("PlexFlags is already defined."),a(document).ready(function(){PlexView.addAfterRenderHook(function(){PlexFlags.refreshFeaturesTree().then(PlexFlags.refreshUI)})})}(jQuery,window),function(a,r){"use strict";var s,o,l;"undefined"==typeof PlexMetrics?r.PlexMetrics=(l=!(o=[]),(s={}).pushEvent=function(e,t,n){void 0===n&&(n={}),void 0!==t&&t||(t=function(){}),Object.getOwnPropertyNames(dataLayer).reduce(function(e,t){return e||"push"==t},!1)?(a.extend(n,{event:e,eventCallback:t}),dataLayer.push(n),Plex.debugLog()&&(console.log("Pushed event ..."),console.log(n))):t()},s.loadUTMParams=function(){var e=function(){for(var e=r.location.search.substring(1).split("&"),t={},n=0;n<e.length;n++){var i=e[n].split("=");-1!==i[0].toLowerCase().indexOf("utm_")&&(t[i[0].replace("utm_","")]=decodeURIComponent(i[1]))}return t}(),t=PlexUtils.getCookieDomain();0<Object.keys(e).length&&(Cookies.set("plex_utm",e,{domain:t}),s.track("attribution","marketing"))},s.moveUTMParamsToGlobal=function(){var e=Cookies.getJSON("plex_utm"),t=PlexUtils.getCookieDomain();Cookies.remove("plex_utm"),"undefined"===e&&Cookies.remove("plex_utm",{domain:t}),void 0!==e&&"undefined"!==e&&""!==e&&null!==t&&Cookies.set("plex_utm",e,{domain:t})},s.getUTMParams=function(){var e=Cookies.getJSON("plex_utm");return void 0!==e&&"undefined"!==e&&""!==e&&null!==e?e:{}},s.track=function(e,t,n,i){l?s.execTrackMetric(e,t,n,i):o.push({category:e,action:t,options:n})},s.execTrackMetric=function(t,n,e,i){void 0===e&&(e={}),void 0===i&&(i=function(){});var r={userId:Plex.isSignedIn()?Plex.getAuthInfo().id:null,deviceIdentifier:Plex.getClientIdentifier(),event:"client:"+t,interaction:!0,properties:{page:n,context:a(location).attr("origin")+a(location).attr("pathname")},context:{campaign:s.getUTMParams(),device:{product:a(location).attr("hostname"),platform:platform.name,platformVersion:platform.version,device:platform.os.family}}},o=a.extend(!0,r,e);a.ajax({type:"POST",url:PlexUtils.isDevelopment()?"https://analytics-stage.plex.tv/collect/event":"https://analytics.plex.tv/collect/event",contentType:"application/json",data:JSON.stringify(o),error:function(e){Plex.debugLog()&&console.log("Couldn't track the plex metric "+t+":"+n)}}).always(function(){Plex.debugLog()&&(console.log("Pushed metric ..."),console.log(o)),i()})},s.execAllMetricEvents=function(){l=!0,a.each(o,function(e,t){s.execTrackMetric(t.category,t.action,t.options)})},s):console.log("PlexMetrics is already defined."),a(document).ready(function(){})}(jQuery,window),function(l,e){"use strict";var c,u,t,r,i,n;"undefined"==typeof Plex?e.Plex=(r=t=!(u={}),i=["pass","tidal"],n={regular:"currency",tidal:"country"},(c={}).Tidal={plansFree:{hifi_bundle:"Tidal Hifi",premium_bundle:"Tidal Premium",hifi_bundle_trial:"Tidal Hifi Trial",premium_bundle_trial:"Tidal Premium Trial"},plansPP:{hifi:"Tidal Hifi Add-On",premium:"Tidal Premium Add-On",hifi_trial:"Tidal Hifi Trial Add-On",premium_trial:"Tidal Premium Trial Add-On",premium_addon_trial:"Tidal Premium Add-On Trial",hifi_addon_trial:"Tidal HiFi Add-On Trial"},getFreePlans:function(){return Object.keys(this.plansFree)},getPPPlans:function(){return Object.keys(this.plansPP)},getAllPlans:function(){return this.getFreePlans().concat(this.getPPPlans())},validPlans:function(e){return!(this.getAllPlans().indexOf(e)<0)&&(c.hasActivePlexPass()?this.getPPPlans():this.getFreePlans())}},c.debugLog=function(){return PlexUtils.isDevelopment()||PlexUtils.isLocalDevelopment()||plex_l10n.js_debug_log},c.signInGuard=function(){return!!c.isSignedIn()||(c.signInRedirect(),!1)},c.getSignInPage=function(e){return"/sign-in"+(e=void 0!==e?e:"")},c.setIsSigninIn=function(e){t=e=void 0===e||e},c.isSigninIn=function(){return t},c.isSignedIn=function(){try{var e=localStorage.getItem("plex_tv_auth")}catch(e){return console.warn("Your browser doesn't support local storage."),void 0!==Cookies.get("plex_tv_auth")}return!!e},c.signInRedirect=function(e){e=void 0!==e&&e?e:location.href,PlexUtils.redirect(c.getSignInPage("/?forwardUrl="+encodeURIComponent(e)))},c.getClientIdentifier=function(){var e=!1;return void 0===Cookies.get("plex_tv_client_identifier")?(e=PlexUtils.guid(),c.setClientIdentifier(e)):e=Cookies.get("plex_tv_client_identifier"),e},c.setClientIdentifier=function(e){Cookies.set("plex_tv_client_identifier",e,{expires:3650})},c.getAuthInfo=function(){try{var e=localStorage.getItem("plex_tv_auth")}catch(e){return console.warn("Your browser doesn't support local storage."),null}return e?JSON.parse(e):(void 0!==(e=Cookies.getJSON("plex_tv_auth"))&&(c.setAuthInfo(e),Cookies.remove("plex_tv_auth")),e)},c.isRefreshingInfo=function(e){var t=!0;return void 0!==e&&(t=PlexUtils.isReturningWebApp()),"1"===PlexUtils.getParam("refreshInfo")&&t},c.getAuthToken=function(){var e=c.getAuthInfo();if(void 0!==e)return e.authToken},c.checkTokenExpiration=function(){var e=c.getAuthInfo();e&&void 0!==e.expires_at&&moment.unix(e.expires_at)<moment().unix()&&c.removeAuthInfo()},c.setAuthInfo=function(e,t){c.clearCachedPricing(),c.isSignedIn()||PlexView.setRunHooks(!0),e.lstorage_at=moment().unix(),!0===t&&(e.expires_at=moment.unix(e.lstorage_at).add(14,"days").unix());try{localStorage.setItem("plex_tv_auth",JSON.stringify(e)),c.SSOSyncCookie()}catch(e){console.warn("Your browser doesn't support local storage.")}PlexUser.cacheSubscriptions(e.subscriptions),PlexFlags.refreshFeaturesTree(!0).always(function(){(PlexView.refreshView()||PlexView.runViewHooks())&&PlexView.refresh()})},c.removeAuthInfo=function(e){e=void 0!==e&&e,c.isSignedIn()&&PlexView.setRunHooks(!0);try{localStorage.removeItem("plex_tv_auth"),c.SSOSyncCookie()}catch(e){console.warn("Your browser doesn't support local storage.")}PlexUtils.clearSessionCache(),PlexUser.clearSubscriptions(),PlexFlags.refreshFeaturesTree(!0).then(function(){!PlexView.refreshView()&&!PlexView.runViewHooks()||e||PlexView.refresh()})},c.hasActivePlexPass=function(){return c.debugLog()&&PlexUtils.getParam("plexpass")?Boolean(parseInt(PlexUtils.getParam("plexpass"))):!!c.getAuthInfo()&&c.getAuthInfo().subscription.active},c.hasActiveMusicPass=function(e){return c.debugLog()&&PlexUtils.getParam("musicpass")?Boolean(parseInt(PlexUtils.getParam("musicpass"))):(e=void 0!==e?e:"tidal",c.hasActiveTidalSubsc()&&!c.hasActivePlexPass())},c.hasActiveTidalSubsc=function(n){if(c.debugLog()&&PlexUtils.getParam("tidal"))return Boolean(parseInt(PlexUtils.getParam("tidal")));n=void 0!==n?n:"tidal";var i=!1;return l.each(c.Tidal.getAllPlans(),function(e,t){if(i=c.findActiveSubscriptionType(n,t))return!1}),Boolean(i)},c.hasExpiredTrial=function(e){var t=c.getAuthInfo();if(void 0===t)return!1;var n=t.trials;return void 0===n&&(n=[]),c.debugLog()&&PlexUtils.getParam("simulTrialEnd")&&n.push(PlexUtils.getParam("simulTrialEnd")),0<=n.indexOf(e)},c.loadPlans=function(o,a){var s=l.Deferred(),e={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":c.getClientIdentifier()},t={};a=void 0!==a&&a,"regular"!==o&&(t.feature=o),c.isSignedIn()&&(e["X-Plex-Token"]=c.getAuthToken());var n=PlexUtils.getAPIUrl()+"/api/v2/subscriptions/plans.json?all=true";return a&&"country"!==c.getPlansFeatureIndex(o)&&(n=PlexUtils.getAPIUrl()+"/api/subscriptions/plans.json"),l.ajax({dataType:"json",type:"GET",headers:e,url:n,crossDomain:!0,data:t}).done(function(e){if(u[o]=e,a){if("country"===c.getPlansFeatureIndex(o)){var t=c.debugLog()&&PlexUtils.getParam("country_code")?PlexUtils.getParam("country_code"):u[o].defaultCountry,n=u[o].prices[t];if(void 0!==u[o].prices[t]){n=u[o].prices[t];var i=u[o].formattedPrices[t],r=[];l.each(Object.keys(n),function(e,t){"meta"!==t&&r.push({id:t,name:"Monthly",price:n[t],currency:n.meta.currency,formattedPrice:i[t]})}),u[o]=r}else u[o]="not_available"}PlexUtils.setCache("pricesData"+o,u[o],30)}s.resolve(e)}).then(null,function(e){s.reject(e)}),s.promise()},c.loadPrices=function(e){var t=l.Deferred();return void 0!==u[e]&&null!==u[e]||(u[e]=PlexUtils.getCache("pricesData"+e)),null!==u[e]||"not_available"===u[e]?t.resolve():c.loadPlans(e,!0)},c.maybeLoadPrices=function(){var n=function(e){l.event.trigger("pricesInit",[e])};if(l(".pp-price-feature[data-pp-price-feature]").length){l(".plans-na-error").hide();var i=[];l(".pp-price-feature[data-pp-price-feature]").each(function(){var e=l(this).data("pp-price-feature");-1===i.indexOf(e)&&i.push(e)});var r=0;l.each(i,function(e,t){c.loadPrices(t).then(function(){++r>=i.length&&n(t)}).fail(function(){l(".plans-na-error").show()})})}else n()},c.fillPrices=function(){l.each(u,function(r,e){if("not_available"===e)return!0;l.each(u[r],function(e,t){var n=(void 0!==r&&"pass"!==r?r+"-":"")+t.id,i=t.formattedPrice;l(".plex-price-"+n).html(i),l(".plex-price-"+n+".name").html(t.name),l(".plex-price-"+n+".price.discounted-price").html(i.replace(t.currency,"").trim()),l(".plex-price-"+n+".currencycode").html(t.currency)})})},c.clearCachedPricing=function(e){var n=function(e){c.debugLog()&&console.log("Resetting prices for: "+e),PlexUtils.clearSessionCache("pricesData"+e),u[e]=null};void 0===e?l.each(i,function(e,t){n(t)}):n(e)},c.getPlansFeatureIndex=function(e){return void 0===n[e]?n.regular:n[e]},c.getUSDPlansIndex=function(e){return"country"===e?"US":"USD"},c.canPurchasePlans=function(e){var t=PlexUtils.getCache("pricesData"+e);return null===t?void 0===u[e]||"not_available"!==u[e]:"not_available"!==t},c.getOtherActiveSubscPlan=function(){if(c.debugLog()&&PlexUtils.getParam("tidalsubsc"))return Boolean(parseInt(PlexUtils.getParam("tidalsubsc")));var e=PlexUser.getSubscriptionsInfo();if(void 0===e||!e.length)return!1;var n=!1;return l.each(plex_l10n.plans.tidal,function(e,t){if(c.findActiveSubscriptionType("tidal",t.id))return n=t,!1}),n},c.checkPendingSubscription=function(e){var t=l.Deferred(),n=c.findPendingSubscriptionType(e);return null!==n?c.getSubscriptionStatus(n.id):t.resolve()},c.findSubscriptionType=function(n,i,r){var e=PlexUser.getSubscriptionsInfo(),o=null;return r=void 0!==r?r:"active",i=void 0!==i?i:"any",l.each(e,function(e,t){return void 0!==t.type&&(t.type===n&&t.state===r?("any"!==i&&i!==t.mode||(o=t),!1):void 0)}),o},c.findActiveSubscriptionType=function(e,t){return c.findSubscriptionType(e,t,"active")},c.findPendingSubscriptionType=function(e,t){return c.findSubscriptionType(e,t,"pending")},c.subscriptionGuard=function(){return c.isSignedIn()?!c.getAuthInfo().subscription.active:(c.signInRedirect(),!1)},c.getSubscriptionStatus=function(e){var i=l.Deferred();return l.ajax({dataType:"json",type:"GET",headers:{"X-Plex-Client-Identifier":c.getClientIdentifier(),"X-Plex-Token":c.getAuthToken()},url:PlexUtils.getAPIUrl()+"/api/v2/subscriptions/"+e,crossDomain:!0,xhrFields:{withCredentials:!0}}).always(function(e,t){var n=!1;"error"!==t&&void 0!==e.state&&(n=e),i.resolve(n)}),i.promise()},c.getSubscriptionAuthInfo=function(){var e=c.getAuthInfo();return{active:e.subscription.active,plan:e.subscription.plan,billing_cycle:e.subscription.plan,next_charge_time:""}},c.SSOSyncCookie=function(e){var t=PlexUtils.getCookieDomain(),n=l(location).attr("hostname");if(!r){var i={host:n,signedIn:c.isSignedIn(),token:c.getAuthToken()};i=JSON.stringify(i);try{i=btoa(i)}catch(e){}Cookies.set("_plex_tv_auth_sync",i,{domain:t})}},c.SSOSync=function(){var e=PlexUtils.getCookieDomain(),t=l(location).attr("hostname"),n=Cookies.get("_plex_tv_auth_sync");if(void 0!==n&&n){try{n=JSON.parse(atob(n))}catch(e){n=JSON.parse(n)}if(void 0!==n.host&&void 0!==n.signedIn){var i=void 0!==n.token&&c.getAuthToken()!==n.token;t===n.host||c.isSignedIn()===n.signedIn&&!i||(Cookies.remove("_plex_tv_auth_sync",{domain:e}),Cookies.remove("plex_tv_auth_rem",{domain:e}),c.isSignedIn()!==n.signedIn&&c.removeAuthInfo(),PlexSignIn.loadSSO(),r=!0)}}},c):console.log("Plex is already defined."),l(document).ready(function(){var i=0;PlexMetrics.pushEvent("SitePlexInit"),PlexUtils.saveForward(),PlexMetrics.moveUTMParamsToGlobal(),PlexMetrics.loadUTMParams(),PlexMetrics.execAllMetricEvents(),PlexMetrics.pushEvent("SitePlexAfterInit"),PlexView.addAfterRenderHook(function(){Plex.maybeLoadPrices(),Plex.SSOSync(),Plex.checkTokenExpiration(),PlexUser.refreshAuthInfo()}),l(document).on("pricesInit",function(e,t){var n={canPurchaseTidalPlans:Plex.canPurchasePlans("tidal")};PlexView.renderAsync(n,i++,Plex.fillPrices)})})}(jQuery,window),function(l,e){"use strict";var o,c,u,n,i,r,t,a,s,d,f;"undefined"==typeof PlexView?e.PlexView=(o={},c={},u={},n=[],i=[],r=[],t={},f=!(d=s=!(a={})),Handlebars.registerHelper({eq:function(e,t){return e===t},ne:function(e,t){return e!==t},lt:function(e,t){return e<t},gt:function(e,t){return t<e},lte:function(e,t){return e<=t},gte:function(e,t){return t<=e},and:function(e,t){return e&&t},or:function(e,t){return e||t},not:function(e){return!e}}),Handlebars.registerHelper("iftrue",function(e,t,n){return e?t:n}),Handlebars.registerHelper("feature",function(e){return PlexUser.hasFeature(e)}),Handlebars.registerHelper("img",function(t){return"<img "+Object.keys(t.hash).map(function(e){return e+'="'+t.hash[e]+'"'}).join(" ")+"/>"}),o.init=function(e){o.loadViews(),o.initBeforeRenderHooks(),o.initAfterRenderHooks(),o.execHooks("once"),o.render(),void 0!==e&&e()},o.initBeforeRenderHooks=function(){i.push(function(){PlexUtils.isDevelopment()&&c.hasOwnProperty("navbar-staging")?(t.stagingUrls=PlexUtils.getStagingUrls(),t.currentStagingUrl=PlexUtils.getCurrentStagingAPIUrl()):delete c["navbar-staging"],t.become="1"===PlexUtils.getCache("become")})},o.initAfterRenderHooks=function(){r.push(function(){l(document).ready(function(){PlexUtils.isDevelopment()&&c.hasOwnProperty("navbar-staging")&&l("#plex-dd-stagingurl").change(function(e){var t=l(e.currentTarget).val();PlexUtils.setCurrentStagingAPIUrl(t),location.reload()})})})},o.addRenderOnceHook=function(e){n.push(function(){l(document).ready(function(){e()})}),s&&e()},o.addAfterRenderHook=function(e){r.push(function(){l(document).ready(function(){e()})}),s&&e()},o.execHooks=function(e){var t=[];"after"===e?t=r:"before"===e?t=i:"once"===e&&(t=n),t.map(function(e){e()})},o.loadViews=function(e){var t=l(e=void 0!==e?e:".plexview-template"),n=null,i=null,r=null,o=null,a=null,s=l("<div/>");s.addClass("view-loading").css({display:"none"}),l.each(t,function(e,t){n=l(t),r=n.html(),a=n.data("view"),o=Handlebars.compile(r),c[a]=o,i=s.clone().attr("data-parent",a),l(".plexview-"+a).hasClass("async-load")&&(u[a]=o),l(".plexview-"+a).hide(),l(".dynamic-loading.plexview-"+a).after(i),n.remove()})},o.render=function(r){var e=l("<div/>");r=void 0!==r&&r,e.addClass("view-loading"),r||o.execHooks("before"),a={isSignedIn:Plex.isSignedIn(),isSigninIn:Plex.isSigninIn(),refreshInfo:Plex.isRefreshingInfo(),hasAdminPermissions:PlexUser.hasAdminPermissions(),apiURL:PlexUtils.getAPIUrl(),webURL:PlexUtils.getWebUrl(),musicURL:PlexUtils.getMusicUrl(),adminURL:PlexUtils.getAdminUrl(),user:Plex.getAuthInfo(),hasAccessToMusic:PlexFlags.hasAccessToFeature("music"),hasActivePlexPass:Plex.hasActivePlexPass(),hasActiveMusicPass:Plex.hasActiveMusicPass(),hasActiveTidalSubsc:Plex.hasActiveTidalSubsc(),hasExpiredTidalTrial:Plex.hasExpiredTrial("tidal"),otherActiveSubscPlan:Plex.getOtherActiveSubscPlan(),canPurchaseTidalPlans:Plex.canPurchasePlans("tidal"),options:t},l.each(c,function(t,e){var n=!1;try{l(".plexview-"+t).html(e(a)),l(".view-loading[data-parent="+t+"]").hide(),r?(o.loading(t),l(".view-loading[data-parent="+t+"]").hide(200,function(){l(".dynamic-loading.plexview-"+t).fadeIn("slow")})):l(".plexview-"+t).hasClass("async-load")?n=!0:l(".plexview-"+t).fadeIn(),!n&&l(".plexview-"+t).hasClass("foundation-reinit")&&l(document).foundation()}catch(e){console.error("Error compiling "+t+" template."),console.error(e);var i=e.message.replace(/[\u00A0-\u9999<>\&]/gim,function(e){return"&#"+e.charCodeAt(0)+";"});document.write("<pre>"+i+"</pre>")}}),r||o.execHooks("after"),s=!0},o.renderAsync=function(e,r,t){l.extend(a,e),l.each(u,function(t,e){var n=l(".plexview-"+t);try{n.html(e(a)),r?n.show():n.delay(500).fadeIn(),n.hasClass("foundation-reinit")&&l(document).foundation()}catch(e){console.error("Error compiling "+t+" template."),console.error(e);var i=e.message.replace(/[\u00A0-\u9999<>\&]/gim,function(e){return"&#"+e.charCodeAt(0)+";"});return void document.write("<pre>"+i+"</pre>")}}),void 0!==t&&t()},o.loading=function(e){void 0===e?l.each(c,function(e,t){o._loading(e)}):o._loading(e)},o._loading=function(t){try{l(".dynamic-loading.plexview-"+t).hide(),l(".view-loading[data-parent="+t+"]").show(),l("[data-parent="+t+"]").fadeIn()}catch(e){console.error("Error compiling "+t+" template."),console.error(e);var n=e.message.replace(/[\u00A0-\u9999<>\&]/gim,function(e){return"&#"+e.charCodeAt(0)+";"});document.write("<pre>"+n+"</pre>")}},o.cancelLoading=function(e){var t=l(".view-loading:visible");t.length&&setTimeout(function(){l(".view-loading").hide(),t.each(function(e,t){var n=l(t).data("parent");l(".plexview-"+n).fadeIn()})},1e3)},o.setRunHooks=function(e){d=e},o.runViewHooks=function(){return d},o.setRefreshView=function(e){f=e},o.refreshView=function(){return f},o.refresh=function(){var e=!o.runViewHooks();o.render(e)},o):console.log("PlexView is already defined."),l(document).ready(function(){}),l(e).on("beforeunload",function(e){PlexView.cancelLoading()})}(jQuery,window),function(c,e){"use strict";"undefined"==typeof PlexUser?e.PlexUser=function(){var s={},l=null;s.getPasswordToken=function(){var e=PlexUtils.getParam("token");return void 0===e&&(e=PlexUtils.getParam("reset_password_token")),e},s.hasRole=function(e){if(!Plex.isSignedIn())return!1;var t=[];return void 0!==Plex.getAuthInfo().roles&&(Array.isArray(Plex.getAuthInfo().roles)?t=Plex.getAuthInfo().roles:Array.isArray(Plex.getAuthInfo().roles.roles)&&(t=Plex.getAuthInfo().roles.roles),-1!==t.indexOf(e))},s.hasFeature=function(e){return!!Plex.isSignedIn()&&-1!==Plex.getAuthInfo().subscription.features.indexOf(e)},s.hasAdminPermissions=function(){if(!Plex.isSignedIn())return!1;if(void 0===Plex.getAuthInfo().roles)return!1;var e=[],t=["admin","app_manager","user_admin","marketing_admin","employee"];return Array.isArray(Plex.getAuthInfo().roles)?e=Plex.getAuthInfo().roles:Array.isArray(Plex.getAuthInfo().roles.roles)&&(e=Plex.getAuthInfo().roles.roles),e.reduce(function(e,n){return e||t.reduce(function(e,t){return e||t==n},!1)},!1)},s.refreshAuthInfo=function(n,i){if(Plex.isSignedIn()){if(i=void 0!==i&&i,Plex.isRefreshingInfo()){var e=PlexUtils.getPageForURL();if(e&&0<=Plex.getSignInPage().indexOf(e)&&!PlexUtils.isReturningWebApp())return;n=!0}var t=Plex.getAuthInfo();if(moment.unix(t.lstorage_at).add(2,"minute").unix()<moment().unix()||n){PlexView.setRefreshView(!1),n&&PlexView.setRunHooks(!1),Plex.setAuthInfo(t,t.rememberMe);var r=PlexUtils.getParam("become"),o=PlexUtils.getParam("unbecome");if("1"===r)return PlexUtils.setCache("become","1",600),Plex.getAuthInfo();if("1"===o)return PlexUtils.setCache("become",0,1),Plex.getAuthInfo();var a={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier(),"X-Plex-Token":Plex.getAuthToken()};c.ajax({dataType:"json",type:"GET",headers:a,url:PlexUtils.getAPIUrl()+"/api/v2/user",data:{includeSubscriptions:!0},crossDomain:!0,success:function(e){var t=void 0!==e.rememberExpiresAt&&e.rememberExpiresAt;Plex.debugLog()&&console.log(e),t||i?Plex.setAuthInfo(e,t):(Plex.removeAuthInfo(),n||Plex.signInRedirect())},error:function(e){401!=e.status&&422!=e.status||(Plex.removeAuthInfo(),n||Plex.signInRedirect())}})}}},s.getActivePayment=function(){var t=c.Deferred(),e={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier()};return Plex.isSignedIn()&&(e["X-Plex-Token"]=Plex.getAuthToken()),c.ajax({dataType:"json",type:"GET",headers:e,url:PlexUtils.getAPIUrl()+"/api/v2/user/payment_method",crossDomain:!0}).done(function(e){t.resolve(e)}).fail(null,function(e){t.resolve(!1)}),t.promise()},s.getSubscriptions=function(){var t=c.Deferred(),e={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier()};return Plex.isSignedIn()&&(e["X-Plex-Token"]=Plex.getAuthToken()),c.ajax({dataType:"json",type:"GET",headers:e,url:PlexUtils.getAPIUrl()+"/api/v2/user/subscriptions",crossDomain:!0}).done(function(e){s.cacheSubscriptions(e),t.resolve(e)}).then(null,function(e){t.reject(e)}),t.promise()},s.getSubscriptionsInfo=function(){try{var e=localStorage.getItem("plex_tv_subsc");if(e)return JSON.parse(e)}catch(e){console.warn("Your browser doesn't support local storage.")}},s.cacheSubscriptions=function(e){try{void 0!==e&&localStorage.setItem("plex_tv_subsc",JSON.stringify(e))}catch(e){console.warn("Your browser doesn't support local storage.")}},s.clearSubscriptions=function(){try{localStorage.removeItem("plex_tv_subsc")}catch(e){console.warn("Your browser doesn't support local storage.")}},s.handleUpdatePasswordSubmit=function(e){var t=c(e),n=c(".form-update-password"),i=s.getPasswordToken(),r=t.find("#password").val(),o={"X-Plex-Product":"Plex SSO","X-Plex-Client-Identifier":Plex.getClientIdentifier()};return t.find(".plex-element").hide(),t.find(".plex-password-loading").show(),c.ajax({dataType:"json",type:"PUT",headers:o,url:PlexUtils.getAPIUrl()+"/api/v2/users/password.json",data:{token:i,password:r},crossDomain:!0,success:function(e){n.find(".plex-element").hide(),n.find(".plex-password-success").show()},error:function(e){if(n.find(".plex-element").hide(),void 0!==e.responseJSON.errors&&0<e.responseJSON.errors.length){var t=e.responseJSON.errors;void 0!==t[0].message&&0<t[0].message.length?(n.find(".plex-password-error-message").html(e.responseJSON.errors[0].message),n.find(".plex-password-error").show()):n.find(".plex-password-error-generic").show()}n.find(".plex-form").show()}}),!1},s.hideElements=function(e){e.find(".plex-element").hide()},s.initPinResetForm=function(){var e={},t=c(".form-pinreset");l=t,e["pin-equalto"]=c(".message-pin-equalto"),s.hideElements(t),t.find(".plex-pinreset-loading").show(),Plex.signInGuard()&&(s.hideElements(t),t.find(".plex-form").show(),t.find(".plex-form > form").validate({rules:{pin:{required:!0,digits:!0},"pin-confirm":{required:!0,digits:!0,equalTo:"#pin"}},messages:{"pin-confirm":{equalTo:0<e["pin-equalto"].length?e["pin-equalto"].html():"The pin numbers you entered do not match."}},showErrors:PlexUtils.showErrorsOnForm,submitHandler:s.handlePinResetSubmit}),t.find("#code").focus())};var e=0;return s.checkPasswordStrength=function(o){clearTimeout(e),e=setTimeout(function(){var e,t,n=c(o.currentTarget),i=zxcvbn(n.val()).score,r=n.parent();r.find(".strength-indicator .si").hide(),r.find(".strength-text .st").hide(),""!=n.val()&&(t=0==i||1==i?(e=".st.weak",".si.weak"):2==i?(e=".st.fair",".si.weak, .si.fair"):3==i?(e=".st.good",".si.weak, .si.fair, .si.good"):(e=".st.strong",".si.weak, .si.fair, .si.good, .si.strong"),r.find(e).show(),r.find(t).show())}.bind(this),350)},s.initUpdatePasswordForm=function(){var e=c(".form-update-password"),t={};e.find(".plex-element").hide(),t["confirmPassword-required"]=e.find(".message-confirmPassword-required"),t["confirmPassword-equalTo"]=e.find(".message-confirmpassword-equalto"),t["password-required"]=e.find(".message-password-required"),t["password-minlength"]=e.find(".message-password-minlength");var n=s.getPasswordToken(),i=PlexUtils.getParam("emailReset"),r=PlexUtils.getParam("newEmail"),o=PlexUtils.getParam("oldEmail");null===n||""===n||void 0===n?e.find(".plex-password-nopin  ").show():e.find(".plex-form").show(),e.find(".plex-form > form").validate({rules:{password:{required:!0,minlength:8},confirmPassword:{required:!0,equalTo:"#password"}},messages:{confirmPassword:{required:0<t["confirmPassword-required"].length?t["confirmPassword-required"].html():"Password is required",equalTo:0<t["confirmPassword-equalTo"].length?t["confirmPassword-equalTo"].html():"Passwords do not match"},password:{required:0<t["password-required"].length?t["password-required"].html():"Password is required",minlength:0<t["password-minlength"].length?t["password-minlength"].html():"Password should be at least 8 characters long"}},showErrors:PlexUtils.showErrorsOnForm,submitHandler:s.handleUpdatePasswordSubmit}),e.find("#password").keyup(s.checkPasswordStrength).blur(function(){var e=c(".strength-indicator");e.hide(),e.find(".si").hide(),e.find(".strength-text .st").hide()}).focus(function(){c(".strength-indicator").show()}),"1"===i?(e.find(".plex-password-email-success").show(),e.find(".plex-password-email-success .old-email").html(o)):"0"===i&&(e.find(".plex-password-email-fail").show(),e.find(".plex-password-email-fail .new-email").html(r),e.find(".plex-password-email-fail .old-email").html(o))},s.handlePinResetSubmit=function(e){s.hideElements(l),l.find(".plex-pinreset-loading").show();var t={"X-Plex-Product":"Plex SSO","X-Plex-Token":Plex.getAuthToken(),"X-Plex-Client-Identifier":Plex.getClientIdentifier()},n=Plex.getAuthInfo(),i=c(e),r=i.find("#pin").val(),o=i.find("#password").val(),a={pin:r};return n.hasPassword&&(a.currentPassword=o),c.ajax({dataType:"json",type:"PUT",headers:t,url:PlexUtils.getAPIUrl()+"/api/v2/user.json",data:a,crossDomain:!0,success:function(e){s.hideElements(l),l.find(".plex-pinreset-success").show()},error:function(e){s.hideElements(l),void 0!==e.responseJSON.errors&&0<e.responseJSON.errors.length&&c(".plex-pinreset-error-message").html(e.responseJSON.errors[0].message),l.find(".plex-pinreset-error").show(),l.find(".plex-form").show()}}),!1},s}():console.log("PlexUser is already defined."),c(document).ready(function(){})}(jQuery,window),function(s,l){"use strict";var n,e;l.onerror=function(e,t,n,i,r){if(plex_l10n.js_error_log){var o={error:r,source:t,lineno:n,page_id:plex_l10n.post_id,location:l.location.href},a={"X-WP-Nonce":plex_l10n.errors.nonce};s.ajax({type:"POST",url:plex_l10n.errors.endpoint,data:o,headers:a,success:function(){console.error("Error detected. We were informed.")}},"json")}},PlexConditionizr.init(),"undefined"==typeof PlexSite&&(l.PlexSite=(n={init:function(){n.featureFlagRedirects(),n.wrapDropdowns(),n.statsRollIn(),n.higlightSubMenuItems(),n.smoothScrollBind(),e.init(),s.event.trigger({type:"plex_site_init"}),PlexMetrics.pushEvent("SiteInit"),n.SVGtoInline()},SVGtoInline:function(){s("img.svg").each(function(){var n=s(this),i=n.attr("id"),r=n.attr("class"),e=n.attr("src");s.get(e,function(e){var t=s(e).find("svg");void 0!==i&&(t=t.attr("id",i)),void 0!==r&&(t=t.attr("class",r+" replaced-svg")),!(t=t.removeAttr("xmlns:a")).attr("viewBox")&&t.attr("height")&&t.attr("width")&&t.attr("viewBox","0 0 "+t.attr("height")+" "+t.attr("width")),n.replaceWith(t)},"xml")})},wrapDropdowns:function(){s(".sidebar [class*=widget_] select:not([name=cat])").wrap('<div class="select-container"></div>'),s(".sidebar [class*=widget_] select[name=cat]").parent("form").addClass("select-container"),s(".ginput_card_expiration").wrap('<div class="select-container"></div>')},statsRollIn:function(){s(".count").each(function(){s(this).attr("Counter",0).animate({Counter:s(this).text()},{duration:1e3,easing:"swing",step:function(e){s(this).text(Math.ceil(e))}})})},higlightSubMenuItems:function(){s(".dynamic-submenu-item-highlight[data-bucket]").each(function(e,t){parseInt(plex_l10n.post_id)!==parseInt(s(t).data("bucket"))&&parseInt(plex_l10n.post_parent)!==parseInt(s(t).data("bucket"))||s(this).addClass("current-menu-item")})},displayPopUps:function(){var e=plex_l10n.popup_exceptions,t=plex_l10n.popup_pages;parseInt(plex_l10n.is_page)&&Plex.hasActivePlexPass()&&!Plex.hasActiveTidalSubsc()&&PlexFlags.hasAccessToFeature("music")&&(void 0===e||void 0===e.tidal||e.tidal.indexOf(plex_l10n.post_id)<0)&&void 0!==t&&0<=t.tidal.indexOf(plex_l10n.post_id)&&n.displayOneTimePopUp("tidal")},featureFlagRedirects:function(){PlexFlags.skipFeatureFlags()||void 0!==plex_l10n.feature_flags_actions.redirects&&s.each(plex_l10n.feature_flags_actions.redirects,function(e,t){PlexFlags.hasAccessToFeature(e)||s.each(t,function(e,t){if(parseInt(plex_l10n.post_id)===parseInt(e))return PlexUtils.redirect(t),!1})})},smoothScrollBind:function(){s.each(s('[href^="#"]:not("[data-smooth-scroll]")'),function(e,t){if(1===s(t).attr("href").length)return!0;var n=s(t).attr("href");s(n).length&&s(t).attr("data-smooth-scroll",n)}),s.each(s("[data-smooth-scroll]"),function(e,t){s(t).on("click",function(){n.scrollToHash(s(t).data("smooth-scroll"))})})},scrollToHash:function(e){var t=void 0!==e?e:location.hash;t&&1<t.length&&s(t).length&&s("html,body").animate({scrollTop:s(t).offset().top},700)},toggleDynamicMenuItems:function(){if(s(".menu-item.nav-item-toggable").show(),Plex.isSignedIn()?s(".menu-item.signed_in-hide").hide():s(".menu-item.signed_out-hide").hide(),Plex.hasActivePlexPass()&&Plex.hasActiveTidalSubsc()&&s(".menu-item.bundle_users-hide").hide(),Plex.hasActivePlexPass()&&s(".menu-item.plex_pass-hide").hide(),Plex.hasActiveTidalSubsc()&&s(".menu-item.tidal_subsc-hide").hide(),Plex.isSignedIn()){var e=PlexUser.getSubscriptionsInfo();void 0!==e&&e.length||s(".menu-item.free_users-hide").hide()}},displayOneTimePopUp:function(e){var t,n=s("[data-remodal-id=modal-"+e+"]"),i="plex_tv_cta_"+e;if(n.length){try{t=localStorage.getItem(i)}catch(e){t=Cookies.get(i)}if(null==t)try{n.remodal().open(),s(document).on("click",n.find(".icon-close"),function(){try{localStorage.setItem(i,1)}catch(e){return Cookies.set(i,1,{domain:PlexUtils.getCookieDomain()}),null}})}catch(e){}}}},e={init:function(){(new WOW).init(),e.initSlick(),e.initTooltips()},initTooltips:function(){s(".tooltip").tooltipster({theme:"tooltipster-shadow",minWidth:300,interactive:!0}),s(".tooltip-lang").tooltipster({theme:"tooltipster-shadow",maxWidth:275,interactive:!0,trigger:"click",position:"top"}),s(".tooltip-ota").tooltipster({theme:"tooltipster-shadow",maxWidth:400,interactive:!0}),s(".tooltip-pms").tooltipster({theme:"tooltipster-shadow",maxWidth:400,interactive:!0,functionReady:function(e,t){s(document).on("click",s(t.origin),function(){s(t.origin).tooltipster("close")})}}),s.fatNav()},initSlick:function(){s(document).on("init",".slick-start-hidden",function(e,t){s(this).show()}),s(document).on("change.zf.tabs","#feature-tabs",function(e,t){s(".multiple-items.cards").slick("slickGoTo",0)}),s(l).scroll(function(){s(".multiple-items").length&&s(".multiple-items").offset().top-s(l).height()<s(this).scrollTop()&&s(".multiple-items").not(".slider-playing").addClass("slider-playing").slick("slickPlay")}),s(document).on("change.zf.tabs",".tabs[data-tabs-slick]",function(e,t){var n=t.find("a").attr("href");(t=s(n).find(".multiple-items")).slick("setPosition"),t.find(".yolo").length<=4&&t.find(".slick-dots").hide()}),s(".multiple-items").slick({infinite:!0,slidesToShow:4,slidesToScroll:2,arrows:!1,dots:!0,autoplaySpeed:6e3,responsive:[{breakpoint:1441,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:1025,settings:{slidesToShow:2,slidesToScroll:2,infinite:!0,dots:!0}},{breakpoint:641,settings:{slidesToShow:1,slidesToScroll:1}}]}),s(".hero-carousel").slick({autoplay:!0,pauseOnHover:!0,dots:!0,arrows:!1,infinite:!0,speed:600,autoplaySpeed:6e3,slidesToShow:1}),s(".tabs[data-tabs-slick]").length||s(".slick-list").find(".slick-slide").length<=4&&s(".slick-list").closest(".slick-slider").find(".slick-dots").hide()}},n)),s(l).load(function(){PlexSite.scrollToHash()}),s(document).ready(function(){if(PlexView.init(),PlexSite.init(),PlexView.addAfterRenderHook(function(){PlexSite.toggleDynamicMenuItems(),PlexSite.displayPopUps()}),s(document).on("click",".has-subnav",function(e){var t=this,n=s("."+s(this).data("pulldown")),i=s("."+s(this).data("sectionhide"));s(".section-temp-hidden").removeClass("section-temp-hidden").show(),s(this).hasClass("open")||(s(".submenu-opened").hide(),s(".has-subnav").removeClass("open"));var r=function(e,t,n){t=t||"submenu-active";s(".header, body").removeClass(t),i.length&&i.show().addClass("section-temp-hidden"),e&&(s(".header, body").addClass(t),n.addClass("submenu-opened"),i.length&&i.hide())};return s(this).toggleClass("open"),n.slideToggle(0,function(){r(s(this).is(":visible"),"submenu-active",s(this))}),s(document).on("click",function(e){e.target!==t&&(n.hide(r(!1,"submenu-active",n)),s(".has-subnav").removeClass("open"))}),e.preventDefault(),!1}),s("#back-to-top").length){var t=0,n=sessionStorage.getItem("plex_btt_closed"),i=s(".block-cta").length?s(".block-cta"):s(".footer-main"),e=function(){var e=s(l).scrollTop();i.length&&(t=i.offset().top-1500),600<e&&null===n?(s("#back-to-top").addClass("show"),t&&t<=e?(s("#back-to-top").removeClass("show"),s("#btt-up").addClass("btt-closed")):null===n&&s("#btt-up").removeClass("btt-closed")):s("#back-to-top").removeClass("show")};e(),s(l).on("scroll",function(){e()}),s(document).on("click","#btt-close",function(e){s("#back-to-top").remove(),s("#btt-up").addClass("btt-closed"),n=!1,sessionStorage.setItem("plex_btt_closed",1),e.preventDefault()}),s(document).on("click","#btt-up",function(e){e.preventDefault(),s("html,body").animate({scrollTop:0},700)})}s(document).on("click",".scrollto",function(e){var t=s(this).data("anchor"),n=void 0!==s(this).data("speed")?s(this).data("speed"):500;e.preventDefault(),s("html, body").animate({scrollTop:s("#"+t).offset().top},n)}),s(".plex-responsive-bg-image > img.lazy").show(),s(document).foundation(),FastClick.attach(document.body)})}(jQuery,window),function(a,e){"use strict";var s;"undefined"==typeof PlexCJ&&(e.PlexCJ=s={cookieName:"plex_tv_cj",trackingData:{PID:"",AID:"",SID:"",CJEVENT:""},init:function(){var e=PlexUtils.getParam("PID"),t=PlexUtils.getParam("AID"),n=PlexUtils.getParam("SID"),i=PlexUtils.getParam("cjevent");if(void 0!==e&&void 0!==t){var r=PlexUtils.getCookieDomain();s.trackingData={PID:e,AID:t,CJEVENT:i},void 0!==n&&(s.trackingData.SID=n),Cookies.set(s.cookieName,s.trackingData,{domain:r,expires:45})}else Cookies.get(s.cookieName)&&(s.trackingData=Cookies.getJSON(s.cookieName))},trackSubscription:function(e,t){if(s.trackingData.AID){var n=e.amount;e.hasDiscount&&(n=e.fullPrice);var i={CID:1543155,type:396634,containerTagId:20910},r={ITEM1:e.plan,AMT1:n,QTY1:1,OID:t,CURRENCY:e.currency,CJEVENT:s.trackingData.CJEVENT};e.hasDiscount&&(r.DISCOUNT=e.discount,r.COUPON=e.value,e.trial&&(i.containerTagId=25966,i.type=400867,r.AMT1="0.00")),a.extend(i,r);var o="https://www.emjcd.com/tags/c?";Object.keys(i).map(function(e,t){o+=e+"="+i[e]+"&"}),document.getElementById("cj_conversion")&&(document.getElementById("cj_conversion").src=o)}}}),a(document).ready(function(){PlexCJ.init()})}(jQuery,window);